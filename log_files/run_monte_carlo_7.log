Using search strategy: explore-exploit
==============================================================
Monte Carlo Loop Runner
==============================================================
Number of runs: 15
Search strategy: explore-exploit
Verbose mode: disabled
Reset state after each run: --reset
JSON configuration: --json=abacus_combined_PyTAAA_status.params.json
Start time: Sun Aug 24 13:27:26 EDT 2025
Working directory: /Users/donaldpg/PyProjects/worktree2/PyTAAA
==============================================================


--------------------------------------------------------------
Starting Monte Carlo Run 1 of 15
Time: Sun Aug 24 13:27:26 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $866,815,581
Annual Return: 38.83%
Sharpe Ratio: 1.31013
Sortino Ratio: 1.230
Max Drawdown: -63.2%
Avg Drawdown: -11.7%
Normalized Score: -1.155
Lookback periods: [50, 160, 174] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,990,627,264
Annual Return: 42.20%
Sharpe Ratio: 1.40431
Sortino Ratio: 1.346
Max Drawdown: -64.5%
Avg Drawdown: -13.3%
Normalized Score: -0.848
Lookback periods: [118, 119, 139] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 27m 39s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,472,617,494
Annual Return: 45.56%
Sharpe Ratio: 1.51269
Sortino Ratio: 1.463
Max Drawdown: -63.8%
Avg Drawdown: -12.4%
Normalized Score: -0.058
Lookback periods: [139, 143, 180] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 21m 43sRunning iteration 31/1500... Est. remaining: 18m 35sRunning iteration 41/1500... Est. remaining: 17m 0s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,704,208,940
Annual Return: 47.27%
Sharpe Ratio: 1.54282
Sortino Ratio: 1.503
Max Drawdown: -59.0%
Avg Drawdown: -12.1%
Normalized Score: 0.407
Lookback periods: [138, 158, 187] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 51/1500... Est. remaining: 16m 41sRunning iteration 61/1500... Est. remaining: 15m 52sRunning iteration 71/1500... Est. remaining: 15m 15sRunning iteration 81/1500... Est. remaining: 14m 47sRunning iteration 91/1500... Est. remaining: 14m 25sRunning iteration 101/1500... Est. remaining: 14m 6sbest_combination: {'lookbacks': [138, 158, 187], 'score': np.float64(0.4071316660963748), 'visits': 1}
Running iteration 111/1500... Est. remaining: 13m 49sRunning iteration 121/1500... Est. remaining: 13m 35sRunning iteration 131/1500... Est. remaining: 13m 27s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,686,400,147
Annual Return: 44.75%
Sharpe Ratio: 1.55059
Sortino Ratio: 1.458
Max Drawdown: -56.4%
Avg Drawdown: -10.4%
Normalized Score: 0.449
Lookback periods: [53, 146, 152] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 141/1500... Est. remaining: 13m 38sRunning iteration 151/1500... Est. remaining: 13m 36s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,608,776,801
Annual Return: 48.80%
Sharpe Ratio: 1.58015
Sortino Ratio: 1.547
Max Drawdown: -59.7%
Avg Drawdown: -11.7%
Normalized Score: 0.710
Lookback periods: [152, 154, 155] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 161/1500... Est. remaining: 13m 47sRunning iteration 171/1500... Est. remaining: 13m 46sRunning iteration 181/1500... Est. remaining: 13m 44sRunning iteration 191/1500... Est. remaining: 13m 40sRunning iteration 201/1500... Est. remaining: 13m 36sbest_combination: {'lookbacks': [152, 154, 155], 'score': np.float64(0.7102343884278757), 'visits': 1}
Running iteration 211/1500... Est. remaining: 13m 31sRunning iteration 221/1500... Est. remaining: 13m 25sRunning iteration 231/1500... Est. remaining: 13m 21sRunning iteration 241/1500... Est. remaining: 13m 16sRunning iteration 251/1500... Est. remaining: 13m 11sRunning iteration 261/1500... Est. remaining: 13m 5sRunning iteration 271/1500... Est. remaining: 13m 1sRunning iteration 281/1500... Est. remaining: 12m 56sRunning iteration 291/1500... Est. remaining: 12m 50sRunning iteration 301/1500... Est. remaining: 12m 44sbest_combination: {'lookbacks': [152, 154, 155], 'score': np.float64(0.7102343884278757), 'visits': 1}
Running iteration 311/1500... Est. remaining: 12m 38sRunning iteration 321/1500... Est. remaining: 12m 32sRunning iteration 331/1500... Est. remaining: 12m 26sRunning iteration 341/1500... Est. remaining: 12m 21sRunning iteration 351/1500... Est. remaining: 12m 15s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,123,122,701
Annual Return: 48.58%
Sharpe Ratio: 1.58204
Sortino Ratio: 1.548
Max Drawdown: -58.5%
Avg Drawdown: -11.0%
Normalized Score: 0.840
Lookback periods: [152, 159, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 361/1500... Est. remaining: 12m 14sRunning iteration 371/1500... Est. remaining: 12m 9sRunning iteration 381/1500... Est. remaining: 12m 3sRunning iteration 391/1500... Est. remaining: 11m 56sRunning iteration 401/1500... Est. remaining: 11m 50sbest_combination: {'lookbacks': [152, 159, 171], 'score': np.float64(0.8395722783739977), 'visits': 1}
Running iteration 411/1500... Est. remaining: 11m 44sRunning iteration 421/1500... Est. remaining: 11m 38sRunning iteration 431/1500... Est. remaining: 11m 32sRunning iteration 441/1500... Est. remaining: 11m 25sRunning iteration 451/1500... Est. remaining: 11m 19sRunning iteration 461/1500... Est. remaining: 11m 12sRunning iteration 471/1500... Est. remaining: 11m 6sRunning iteration 481/1500... Est. remaining: 11m 0sRunning iteration 491/1500... Est. remaining: 10m 54sRunning iteration 501/1500... Est. remaining: 10m 47sbest_combination: {'lookbacks': [152, 159, 171], 'score': np.float64(0.8395722783739977), 'visits': 1}
Running iteration 511/1500... Est. remaining: 10m 41sRunning iteration 521/1500... Est. remaining: 10m 35sRunning iteration 531/1500... Est. remaining: 10m 29sRunning iteration 541/1500... Est. remaining: 10m 23sRunning iteration 551/1500... Est. remaining: 10m 16s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,928,596,978
Annual Return: 48.95%
Sharpe Ratio: 1.60559
Sortino Ratio: 1.563
Max Drawdown: -56.9%
Avg Drawdown: -10.7%
Normalized Score: 1.014
Lookback periods: [157, 159, 160] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 561/1500... Est. remaining: 10m 13sRunning iteration 571/1500... Est. remaining: 10m 6sRunning iteration 581/1500... Est. remaining: 10m 0sRunning iteration 591/1500... Est. remaining: 9m 53sRunning iteration 601/1500... Est. remaining: 9m 47sbest_combination: {'lookbacks': [157, 159, 160], 'score': np.float64(1.0137354319005196), 'visits': 1}
Running iteration 611/1500... Est. remaining: 9m 40sRunning iteration 621/1500... Est. remaining: 9m 33sRunning iteration 631/1500... Est. remaining: 9m 27sRunning iteration 641/1500... Est. remaining: 9m 20sRunning iteration 651/1500... Est. remaining: 9m 14sRunning iteration 661/1500... Est. remaining: 9m 7sRunning iteration 671/1500... Est. remaining: 9m 1sRunning iteration 681/1500... Est. remaining: 8m 54sRunning iteration 691/1500... Est. remaining: 8m 48sRunning iteration 701/1500... Est. remaining: 8m 41sbest_combination: {'lookbacks': [157, 159, 160], 'score': np.float64(1.0137354319005196), 'visits': 1}
Running iteration 711/1500... Est. remaining: 8m 35sRunning iteration 721/1500... Est. remaining: 8m 28sRunning iteration 731/1500... Est. remaining: 8m 22sRunning iteration 741/1500... Est. remaining: 8m 16sRunning iteration 751/1500... Est. remaining: 8m 9sRunning iteration 761/1500... Est. remaining: 8m 2sRunning iteration 771/1500... Est. remaining: 7m 56sRunning iteration 781/1500... Est. remaining: 7m 49sRunning iteration 791/1500... Est. remaining: 7m 43sRunning iteration 801/1500... Est. remaining: 7m 36sbest_combination: {'lookbacks': [157, 159, 160], 'score': np.float64(1.0137354319005196), 'visits': 1}
Running iteration 811/1500... Est. remaining: 7m 30sRunning iteration 821/1500... Est. remaining: 7m 24sRunning iteration 831/1500... Est. remaining: 7m 17sRunning iteration 841/1500... Est. remaining: 7m 11s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $12,491,532,588
Annual Return: 49.94%
Sharpe Ratio: 1.61502
Sortino Ratio: 1.583
Max Drawdown: -58.5%
Avg Drawdown: -11.2%
Normalized Score: 1.026
Lookback periods: [150, 154, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 851/1500... Est. remaining: 7m 5sRunning iteration 861/1500... Est. remaining: 6m 59sRunning iteration 871/1500... Est. remaining: 6m 52sRunning iteration 881/1500... Est. remaining: 6m 46sRunning iteration 891/1500... Est. remaining: 6m 39sRunning iteration 901/1500... Est. remaining: 6m 33sbest_combination: {'lookbacks': [150, 154, 156], 'score': np.float64(1.0264347960878069), 'visits': 1}
Running iteration 911/1500... Est. remaining: 6m 26sRunning iteration 921/1500... Est. remaining: 6m 20sRunning iteration 931/1500... Est. remaining: 6m 13sRunning iteration 941/1500... Est. remaining: 6m 7sRunning iteration 951/1500... Est. remaining: 6m 0sRunning iteration 961/1500... Est. remaining: 5m 54sRunning iteration 971/1500... Est. remaining: 5m 47sRunning iteration 981/1500... Est. remaining: 5m 41sRunning iteration 991/1500... Est. remaining: 5m 34sRunning iteration 1001/1500... Est. remaining: 5m 28sbest_combination: {'lookbacks': [150, 154, 156], 'score': np.float64(1.0264347960878069), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 5m 22sRunning iteration 1021/1500... Est. remaining: 5m 15sRunning iteration 1031/1500... Est. remaining: 5m 9sRunning iteration 1041/1500... Est. remaining: 5m 2sRunning iteration 1051/1500... Est. remaining: 4m 56sRunning iteration 1061/1500... Est. remaining: 4m 49sRunning iteration 1071/1500... Est. remaining: 4m 43sRunning iteration 1081/1500... Est. remaining: 4m 36sRunning iteration 1091/1500... Est. remaining: 4m 30sRunning iteration 1101/1500... Est. remaining: 4m 23sbest_combination: {'lookbacks': [150, 154, 156], 'score': np.float64(1.0264347960878069), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 4m 16sRunning iteration 1121/1500... Est. remaining: 4m 9sRunning iteration 1131/1500... Est. remaining: 4m 3sRunning iteration 1141/1500... Est. remaining: 3m 56sRunning iteration 1151/1500... Est. remaining: 3m 49sRunning iteration 1161/1500... Est. remaining: 3m 43sRunning iteration 1171/1500... Est. remaining: 3m 36sRunning iteration 1181/1500... Est. remaining: 3m 29sRunning iteration 1191/1500... Est. remaining: 3m 23sRunning iteration 1201/1500... Est. remaining: 3m 16sbest_combination: {'lookbacks': [150, 154, 156], 'score': np.float64(1.0264347960878069), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 3m 9sRunning iteration 1221/1500... Est. remaining: 3m 3sRunning iteration 1231/1500... Est. remaining: 2m 56sRunning iteration 1241/1500... Est. remaining: 2m 49sRunning iteration 1251/1500... Est. remaining: 2m 43sRunning iteration 1261/1500... Est. remaining: 2m 36sRunning iteration 1271/1500... Est. remaining: 2m 30sRunning iteration 1281/1500... Est. remaining: 2m 23sRunning iteration 1291/1500... Est. remaining: 2m 17sRunning iteration 1301/1500... Est. remaining: 2m 10sbest_combination: {'lookbacks': [150, 154, 156], 'score': np.float64(1.0264347960878069), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 2m 3sRunning iteration 1321/1500... Est. remaining: 1m 57sRunning iteration 1331/1500... Est. remaining: 1m 50sRunning iteration 1341/1500... Est. remaining: 1m 44sRunning iteration 1351/1500... Est. remaining: 1m 37s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $12,318,429,095
Annual Return: 49.88%
Sharpe Ratio: 1.62083
Sortino Ratio: 1.597
Max Drawdown: -59.0%
Avg Drawdown: -10.0%
Normalized Score: 1.223
Lookback periods: [158, 162, 169] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1361/1500... Est. remaining: 1m 31sRunning iteration 1371/1500... Est. remaining: 1m 24sRunning iteration 1381/1500... Est. remaining: 1m 18sRunning iteration 1391/1500... Est. remaining: 1m 11sRunning iteration 1401/1500... Est. remaining: 1m 5sbest_combination: {'lookbacks': [158, 162, 169], 'score': np.float64(1.222629988852672), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 58sRunning iteration 1421/1500... Est. remaining: 0m 52sRunning iteration 1431/1500... Est. remaining: 0m 45sRunning iteration 1441/1500... Est. remaining: 0m 39sRunning iteration 1451/1500... Est. remaining: 0m 32sRunning iteration 1461/1500... Est. remaining: 0m 26sRunning iteration 1471/1500... Est. remaining: 0m 19sRunning iteration 1481/1500... Est. remaining: 0m 13sRunning iteration 1491/1500... Est. remaining: 0m 6s
Monte Carlo simulation completed in 16.3 minutes
Best normalized score: 1.22
best_combination: {'lookbacks': [158, 162, 169], 'score': np.float64(1.222629988852672), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [158, 162, 169] (score: 1.2226)

Monte Carlo simulation completed in 16.3 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [158, 162, 169] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 115 selections (27.6%)
2. sp500_hma: 109 selections (26.2%)
3. naz100_pi: 79 selections (19.0%)
4. naz100_pine: 79 selections (19.0%)
5. cash: 34 selections (8.2%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $12,318,429,094.71
Average Annualized Gain: 49.9%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 1 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 1/15 runs completed (1 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 2 of 15
Time: Sun Aug 24 13:43:52 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,440,122,689
Annual Return: 43.03%
Sharpe Ratio: 1.42104
Sortino Ratio: 1.381
Max Drawdown: -71.4%
Avg Drawdown: -13.8%
Normalized Score: -0.995
Lookback periods: [117, 179, 180] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $899,143,612
Annual Return: 38.97%
Sharpe Ratio: 1.38166
Sortino Ratio: 1.279
Max Drawdown: -46.5%
Avg Drawdown: -11.1%
Normalized Score: -0.339
Lookback periods: [51, 51, 131] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 36m 45s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,220,520,268
Annual Return: 45.31%
Sharpe Ratio: 1.48869
Sortino Ratio: 1.446
Max Drawdown: -57.2%
Avg Drawdown: -13.0%
Normalized Score: -0.001
Lookback periods: [128, 154, 181] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 28m 31sRunning iteration 31/1500... Est. remaining: 24m 12s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,678,376,071
Annual Return: 44.74%
Sharpe Ratio: 1.49806
Sortino Ratio: 1.457
Max Drawdown: -56.7%
Avg Drawdown: -11.7%
Normalized Score: 0.178
Lookback periods: [108, 146, 195] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,889,541,404
Annual Return: 46.72%
Sharpe Ratio: 1.54785
Sortino Ratio: 1.508
Max Drawdown: -57.2%
Avg Drawdown: -11.7%
Normalized Score: 0.485
Lookback periods: [142, 149, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 24m 4sRunning iteration 51/1500... Est. remaining: 22m 19sRunning iteration 61/1500... Est. remaining: 21m 14sRunning iteration 71/1500... Est. remaining: 20m 16sRunning iteration 81/1500... Est. remaining: 19m 40sRunning iteration 91/1500... Est. remaining: 19m 13sRunning iteration 101/1500... Est. remaining: 18m 43sbest_combination: {'lookbacks': [142, 149, 156], 'score': np.float64(0.48484860448992884), 'visits': 1}
Running iteration 111/1500... Est. remaining: 18m 14sRunning iteration 121/1500... Est. remaining: 17m 40sRunning iteration 131/1500... Est. remaining: 17m 18sRunning iteration 141/1500... Est. remaining: 16m 59sRunning iteration 151/1500... Est. remaining: 16m 46sRunning iteration 161/1500... Est. remaining: 16m 28sRunning iteration 171/1500... Est. remaining: 16m 11sRunning iteration 181/1500... Est. remaining: 15m 55s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,291,189,671
Annual Return: 46.26%
Sharpe Ratio: 1.50224
Sortino Ratio: 1.480
Max Drawdown: -55.0%
Avg Drawdown: -10.9%
Normalized Score: 0.548
Lookback periods: [162, 165, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 191/1500... Est. remaining: 15m 50sRunning iteration 201/1500... Est. remaining: 15m 35sbest_combination: {'lookbacks': [162, 165, 171], 'score': np.float64(0.5482479005485411), 'visits': 1}
Running iteration 211/1500... Est. remaining: 15m 23sRunning iteration 221/1500... Est. remaining: 15m 11sRunning iteration 231/1500... Est. remaining: 14m 58sRunning iteration 241/1500... Est. remaining: 14m 45sRunning iteration 251/1500... Est. remaining: 14m 34s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,214,514,907
Annual Return: 48.62%
Sharpe Ratio: 1.58961
Sortino Ratio: 1.554
Max Drawdown: -55.0%
Avg Drawdown: -11.8%
Normalized Score: 0.845
Lookback periods: [129, 130, 137] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 261/1500... Est. remaining: 14m 31sRunning iteration 271/1500... Est. remaining: 14m 20sRunning iteration 281/1500... Est. remaining: 14m 9sRunning iteration 291/1500... Est. remaining: 13m 58sRunning iteration 301/1500... Est. remaining: 13m 48sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 311/1500... Est. remaining: 13m 38sRunning iteration 321/1500... Est. remaining: 13m 29sRunning iteration 331/1500... Est. remaining: 13m 19sRunning iteration 341/1500... Est. remaining: 13m 10sRunning iteration 351/1500... Est. remaining: 13m 1sRunning iteration 361/1500... Est. remaining: 12m 52sRunning iteration 371/1500... Est. remaining: 12m 43sRunning iteration 381/1500... Est. remaining: 12m 35sRunning iteration 391/1500... Est. remaining: 12m 29sRunning iteration 401/1500... Est. remaining: 12m 21sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 411/1500... Est. remaining: 12m 14sRunning iteration 421/1500... Est. remaining: 12m 6sRunning iteration 431/1500... Est. remaining: 11m 58sRunning iteration 441/1500... Est. remaining: 11m 50sRunning iteration 451/1500... Est. remaining: 11m 42sRunning iteration 461/1500... Est. remaining: 11m 34sRunning iteration 471/1500... Est. remaining: 11m 26sRunning iteration 481/1500... Est. remaining: 11m 18sRunning iteration 491/1500... Est. remaining: 11m 11sRunning iteration 501/1500... Est. remaining: 11m 4sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 511/1500... Est. remaining: 10m 57sRunning iteration 521/1500... Est. remaining: 10m 50sRunning iteration 531/1500... Est. remaining: 10m 43sRunning iteration 541/1500... Est. remaining: 10m 36sRunning iteration 551/1500... Est. remaining: 10m 28sRunning iteration 561/1500... Est. remaining: 10m 21sRunning iteration 571/1500... Est. remaining: 10m 14sRunning iteration 581/1500... Est. remaining: 10m 8sRunning iteration 591/1500... Est. remaining: 10m 1sRunning iteration 601/1500... Est. remaining: 9m 53sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 611/1500... Est. remaining: 9m 47sRunning iteration 621/1500... Est. remaining: 9m 41sRunning iteration 631/1500... Est. remaining: 9m 35sRunning iteration 641/1500... Est. remaining: 9m 28sRunning iteration 651/1500... Est. remaining: 9m 23sRunning iteration 661/1500... Est. remaining: 9m 17sRunning iteration 671/1500... Est. remaining: 9m 9sRunning iteration 681/1500... Est. remaining: 9m 2sRunning iteration 691/1500... Est. remaining: 8m 55sRunning iteration 701/1500... Est. remaining: 8m 47sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 711/1500... Est. remaining: 8m 40sRunning iteration 721/1500... Est. remaining: 8m 33sRunning iteration 731/1500... Est. remaining: 8m 26sRunning iteration 741/1500... Est. remaining: 8m 19sRunning iteration 751/1500... Est. remaining: 8m 12sRunning iteration 761/1500... Est. remaining: 8m 5sRunning iteration 771/1500... Est. remaining: 7m 58sRunning iteration 781/1500... Est. remaining: 7m 51sRunning iteration 791/1500... Est. remaining: 7m 44sRunning iteration 801/1500... Est. remaining: 7m 37sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 811/1500... Est. remaining: 7m 30sRunning iteration 821/1500... Est. remaining: 7m 24sRunning iteration 831/1500... Est. remaining: 7m 17sRunning iteration 841/1500... Est. remaining: 7m 10sRunning iteration 851/1500... Est. remaining: 7m 4sRunning iteration 861/1500... Est. remaining: 6m 57sRunning iteration 871/1500... Est. remaining: 6m 51sRunning iteration 881/1500... Est. remaining: 6m 44sRunning iteration 891/1500... Est. remaining: 6m 37s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $13,236,673,843
Annual Return: 50.19%
Sharpe Ratio: 1.63205
Sortino Ratio: 1.609
Max Drawdown: -55.0%
Avg Drawdown: -12.0%
Normalized Score: 1.101
Lookback periods: [127, 129, 130] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 901/1500... Est. remaining: 6m 31sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 911/1500... Est. remaining: 6m 24sRunning iteration 921/1500... Est. remaining: 6m 18sRunning iteration 931/1500... Est. remaining: 6m 11sRunning iteration 941/1500... Est. remaining: 6m 4sRunning iteration 951/1500... Est. remaining: 5m 58sRunning iteration 961/1500... Est. remaining: 5m 51sRunning iteration 971/1500... Est. remaining: 5m 45sRunning iteration 981/1500... Est. remaining: 5m 38sRunning iteration 991/1500... Est. remaining: 5m 32sRunning iteration 1001/1500... Est. remaining: 5m 26sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 5m 19sRunning iteration 1021/1500... Est. remaining: 5m 12sRunning iteration 1031/1500... Est. remaining: 5m 5sRunning iteration 1041/1500... Est. remaining: 4m 59sRunning iteration 1051/1500... Est. remaining: 4m 52sRunning iteration 1061/1500... Est. remaining: 4m 46sRunning iteration 1071/1500... Est. remaining: 4m 39sRunning iteration 1081/1500... Est. remaining: 4m 33sRunning iteration 1091/1500... Est. remaining: 4m 26sRunning iteration 1101/1500... Est. remaining: 4m 20sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 4m 13sRunning iteration 1121/1500... Est. remaining: 4m 7sRunning iteration 1131/1500... Est. remaining: 4m 0sRunning iteration 1141/1500... Est. remaining: 3m 54sRunning iteration 1151/1500... Est. remaining: 3m 47sRunning iteration 1161/1500... Est. remaining: 3m 41sRunning iteration 1171/1500... Est. remaining: 3m 34sRunning iteration 1181/1500... Est. remaining: 3m 28sRunning iteration 1191/1500... Est. remaining: 3m 22sRunning iteration 1201/1500... Est. remaining: 3m 15sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 3m 9sRunning iteration 1221/1500... Est. remaining: 3m 2sRunning iteration 1231/1500... Est. remaining: 2m 56sRunning iteration 1241/1500... Est. remaining: 2m 49sRunning iteration 1251/1500... Est. remaining: 2m 43sRunning iteration 1261/1500... Est. remaining: 2m 36sRunning iteration 1271/1500... Est. remaining: 2m 30sRunning iteration 1281/1500... Est. remaining: 2m 23sRunning iteration 1291/1500... Est. remaining: 2m 17sRunning iteration 1301/1500... Est. remaining: 2m 10sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 2m 3sRunning iteration 1321/1500... Est. remaining: 1m 57sRunning iteration 1331/1500... Est. remaining: 1m 50sRunning iteration 1341/1500... Est. remaining: 1m 44sRunning iteration 1351/1500... Est. remaining: 1m 37sRunning iteration 1361/1500... Est. remaining: 1m 31sRunning iteration 1371/1500... Est. remaining: 1m 24sRunning iteration 1381/1500... Est. remaining: 1m 18sRunning iteration 1391/1500... Est. remaining: 1m 11sRunning iteration 1401/1500... Est. remaining: 1m 5sbest_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 58sRunning iteration 1421/1500... Est. remaining: 0m 52sRunning iteration 1431/1500... Est. remaining: 0m 45sRunning iteration 1441/1500... Est. remaining: 0m 39sRunning iteration 1451/1500... Est. remaining: 0m 32sRunning iteration 1461/1500... Est. remaining: 0m 26sRunning iteration 1471/1500... Est. remaining: 0m 19sRunning iteration 1481/1500... Est. remaining: 0m 13sRunning iteration 1491/1500... Est. remaining: 0m 6s
Monte Carlo simulation completed in 16.3 minutes
Best normalized score: 1.10
best_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [127, 129, 130] (score: 1.1014)

Monte Carlo simulation completed in 16.3 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [127, 129, 130] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 108 selections (26.0%)
2. naz100_hma: 105 selections (25.2%)
3. naz100_pi: 89 selections (21.4%)
4. naz100_pine: 79 selections (19.0%)
5. cash: 35 selections (8.4%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $13,236,673,842.53
Average Annualized Gain: 50.2%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 2 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 2/15 runs completed (2 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 3 of 15
Time: Sun Aug 24 14:00:17 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,609,279,114
Annual Return: 41.33%
Sharpe Ratio: 1.41331
Sortino Ratio: 1.316
Max Drawdown: -56.4%
Avg Drawdown: -12.1%
Normalized Score: -0.510
Lookback periods: [58, 125, 150] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,732,860,759
Annual Return: 44.80%
Sharpe Ratio: 1.45978
Sortino Ratio: 1.427
Max Drawdown: -62.7%
Avg Drawdown: -11.8%
Normalized Score: -0.106
Lookback periods: [153, 190, 194] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,546,304,804
Annual Return: 46.46%
Sharpe Ratio: 1.51460
Sortino Ratio: 1.479
Max Drawdown: -59.7%
Avg Drawdown: -11.8%
Normalized Score: 0.281
Lookback periods: [150, 158, 179] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 38m 39s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,743,808,511
Annual Return: 46.61%
Sharpe Ratio: 1.54071
Sortino Ratio: 1.497
Max Drawdown: -55.0%
Avg Drawdown: -12.3%
Normalized Score: 0.433
Lookback periods: [128, 134, 136] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 28m 26sRunning iteration 31/1500... Est. remaining: 23m 43sRunning iteration 41/1500... Est. remaining: 21m 20s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,241,614,134
Annual Return: 48.15%
Sharpe Ratio: 1.55969
Sortino Ratio: 1.516
Max Drawdown: -59.0%
Avg Drawdown: -11.8%
Normalized Score: 0.589
Lookback periods: [181, 187, 197] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 51/1500... Est. remaining: 20m 34sRunning iteration 61/1500... Est. remaining: 19m 27sRunning iteration 71/1500... Est. remaining: 18m 39sRunning iteration 81/1500... Est. remaining: 18m 4s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,473,712,711
Annual Return: 48.27%
Sharpe Ratio: 1.58266
Sortino Ratio: 1.545
Max Drawdown: -58.1%
Avg Drawdown: -11.2%
Normalized Score: 0.791
Lookback periods: [144, 158, 178] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 91/1500... Est. remaining: 17m 54sRunning iteration 101/1500... Est. remaining: 17m 25sbest_combination: {'lookbacks': [144, 158, 178], 'score': np.float64(0.7906249928185715), 'visits': 1}
Running iteration 111/1500... Est. remaining: 17m 2sRunning iteration 121/1500... Est. remaining: 16m 34sRunning iteration 131/1500... Est. remaining: 16m 10sRunning iteration 141/1500... Est. remaining: 15m 50sRunning iteration 151/1500... Est. remaining: 15m 34sRunning iteration 161/1500... Est. remaining: 15m 20sRunning iteration 171/1500... Est. remaining: 15m 7sRunning iteration 181/1500... Est. remaining: 14m 54sRunning iteration 191/1500... Est. remaining: 14m 42sRunning iteration 201/1500... Est. remaining: 14m 30sbest_combination: {'lookbacks': [144, 158, 178], 'score': np.float64(0.7906249928185715), 'visits': 1}
Running iteration 211/1500... Est. remaining: 14m 19sRunning iteration 221/1500... Est. remaining: 14m 9sRunning iteration 231/1500... Est. remaining: 13m 59sRunning iteration 241/1500... Est. remaining: 13m 49sRunning iteration 251/1500... Est. remaining: 13m 40sRunning iteration 261/1500... Est. remaining: 13m 30sRunning iteration 271/1500... Est. remaining: 13m 21sRunning iteration 281/1500... Est. remaining: 13m 13sRunning iteration 291/1500... Est. remaining: 13m 4sRunning iteration 301/1500... Est. remaining: 12m 56sbest_combination: {'lookbacks': [144, 158, 178], 'score': np.float64(0.7906249928185715), 'visits': 1}
Running iteration 311/1500... Est. remaining: 12m 47sRunning iteration 321/1500... Est. remaining: 12m 39sRunning iteration 331/1500... Est. remaining: 12m 31sRunning iteration 341/1500... Est. remaining: 12m 24sRunning iteration 351/1500... Est. remaining: 12m 16sRunning iteration 361/1500... Est. remaining: 12m 8sRunning iteration 371/1500... Est. remaining: 12m 0sRunning iteration 381/1500... Est. remaining: 11m 53sRunning iteration 391/1500... Est. remaining: 11m 45sRunning iteration 401/1500... Est. remaining: 11m 38sbest_combination: {'lookbacks': [144, 158, 178], 'score': np.float64(0.7906249928185715), 'visits': 1}
Running iteration 411/1500... Est. remaining: 11m 31sRunning iteration 421/1500... Est. remaining: 11m 23sRunning iteration 431/1500... Est. remaining: 11m 16sRunning iteration 441/1500... Est. remaining: 11m 9s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,937,100,819
Annual Return: 42.09%
Sharpe Ratio: 1.55255
Sortino Ratio: 1.455
Max Drawdown: -34.7%
Avg Drawdown: -8.2%
Normalized Score: 1.240
Lookback periods: [50, 58, 96] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 451/1500... Est. remaining: 11m 5sRunning iteration 461/1500... Est. remaining: 10m 58sRunning iteration 471/1500... Est. remaining: 10m 51sRunning iteration 481/1500... Est. remaining: 10m 44sRunning iteration 491/1500... Est. remaining: 10m 37sRunning iteration 501/1500... Est. remaining: 10m 30sbest_combination: {'lookbacks': [50, 58, 96], 'score': np.float64(1.2395269477571342), 'visits': 1}
Running iteration 511/1500... Est. remaining: 10m 22sRunning iteration 521/1500... Est. remaining: 10m 16s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,868,699,643
Annual Return: 43.70%
Sharpe Ratio: 1.55377
Sortino Ratio: 1.464
Max Drawdown: -34.7%
Avg Drawdown: -9.0%
Normalized Score: 1.291
Lookback periods: [50, 53, 101] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 531/1500... Est. remaining: 10m 11sRunning iteration 541/1500... Est. remaining: 10m 4sRunning iteration 551/1500... Est. remaining: 9m 57sRunning iteration 561/1500... Est. remaining: 9m 51sRunning iteration 571/1500... Est. remaining: 9m 44sRunning iteration 581/1500... Est. remaining: 9m 37sRunning iteration 591/1500... Est. remaining: 9m 30s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,573,730,700
Annual Return: 44.62%
Sharpe Ratio: 1.59269
Sortino Ratio: 1.510
Max Drawdown: -34.7%
Avg Drawdown: -8.9%
Normalized Score: 1.517
Lookback periods: [50, 53, 96] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 601/1500... Est. remaining: 9m 26sbest_combination: {'lookbacks': [50, 53, 96], 'score': np.float64(1.5174234266395787), 'visits': 1}
Running iteration 611/1500... Est. remaining: 9m 20sRunning iteration 621/1500... Est. remaining: 9m 13sRunning iteration 631/1500... Est. remaining: 9m 7sRunning iteration 641/1500... Est. remaining: 9m 0sRunning iteration 651/1500... Est. remaining: 8m 54sRunning iteration 661/1500... Est. remaining: 8m 47sRunning iteration 671/1500... Est. remaining: 8m 40sRunning iteration 681/1500... Est. remaining: 8m 34sRunning iteration 691/1500... Est. remaining: 8m 27sRunning iteration 701/1500... Est. remaining: 8m 21sbest_combination: {'lookbacks': [50, 53, 96], 'score': np.float64(1.5174234266395787), 'visits': 1}
Running iteration 711/1500... Est. remaining: 8m 14sRunning iteration 721/1500... Est. remaining: 8m 7s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,031,844,594
Annual Return: 43.93%
Sharpe Ratio: 1.59905
Sortino Ratio: 1.495
Max Drawdown: -34.7%
Avg Drawdown: -8.1%
Normalized Score: 1.560
Lookback periods: [50, 51, 98] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 731/1500... Est. remaining: 8m 2sRunning iteration 741/1500... Est. remaining: 7m 56sRunning iteration 751/1500... Est. remaining: 7m 49sRunning iteration 761/1500... Est. remaining: 7m 42sRunning iteration 771/1500... Est. remaining: 7m 36sRunning iteration 781/1500... Est. remaining: 7m 29sRunning iteration 791/1500... Est. remaining: 7m 23sRunning iteration 801/1500... Est. remaining: 7m 16sbest_combination: {'lookbacks': [50, 51, 98], 'score': np.float64(1.5598121807470275), 'visits': 1}
Running iteration 811/1500... Est. remaining: 7m 10s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,389,580,938
Annual Return: 46.34%
Sharpe Ratio: 1.67955
Sortino Ratio: 1.584
Max Drawdown: -34.7%
Avg Drawdown: -7.9%
Normalized Score: 2.046
Lookback periods: [50, 52, 95] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 821/1500... Est. remaining: 7m 5sRunning iteration 831/1500... Est. remaining: 6m 58sRunning iteration 841/1500... Est. remaining: 6m 52sRunning iteration 851/1500... Est. remaining: 6m 45sRunning iteration 861/1500... Est. remaining: 6m 39sRunning iteration 871/1500... Est. remaining: 6m 32sRunning iteration 881/1500... Est. remaining: 6m 26sRunning iteration 891/1500... Est. remaining: 6m 20sRunning iteration 901/1500... Est. remaining: 6m 13sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 911/1500... Est. remaining: 6m 7sRunning iteration 921/1500... Est. remaining: 6m 0sRunning iteration 931/1500... Est. remaining: 5m 54sRunning iteration 941/1500... Est. remaining: 5m 48sRunning iteration 951/1500... Est. remaining: 5m 41sRunning iteration 961/1500... Est. remaining: 5m 35sRunning iteration 971/1500... Est. remaining: 5m 29sRunning iteration 981/1500... Est. remaining: 5m 22sRunning iteration 991/1500... Est. remaining: 5m 16sRunning iteration 1001/1500... Est. remaining: 5m 10sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 5m 3sRunning iteration 1021/1500... Est. remaining: 4m 57sRunning iteration 1031/1500... Est. remaining: 4m 51sRunning iteration 1041/1500... Est. remaining: 4m 44sRunning iteration 1051/1500... Est. remaining: 4m 38sRunning iteration 1061/1500... Est. remaining: 4m 32sRunning iteration 1071/1500... Est. remaining: 4m 26sRunning iteration 1081/1500... Est. remaining: 4m 19sRunning iteration 1091/1500... Est. remaining: 4m 13sRunning iteration 1101/1500... Est. remaining: 4m 7sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 4m 0sRunning iteration 1121/1500... Est. remaining: 3m 54sRunning iteration 1131/1500... Est. remaining: 3m 48sRunning iteration 1141/1500... Est. remaining: 3m 42sRunning iteration 1151/1500... Est. remaining: 3m 35sRunning iteration 1161/1500... Est. remaining: 3m 29sRunning iteration 1171/1500... Est. remaining: 3m 23sRunning iteration 1181/1500... Est. remaining: 3m 17sRunning iteration 1191/1500... Est. remaining: 3m 11sRunning iteration 1201/1500... Est. remaining: 3m 4sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 58sRunning iteration 1221/1500... Est. remaining: 2m 52sRunning iteration 1231/1500... Est. remaining: 2m 46sRunning iteration 1241/1500... Est. remaining: 2m 39sRunning iteration 1251/1500... Est. remaining: 2m 33sRunning iteration 1261/1500... Est. remaining: 2m 27sRunning iteration 1271/1500... Est. remaining: 2m 21sRunning iteration 1281/1500... Est. remaining: 2m 15sRunning iteration 1291/1500... Est. remaining: 2m 8sRunning iteration 1301/1500... Est. remaining: 2m 2sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 56sRunning iteration 1321/1500... Est. remaining: 1m 50sRunning iteration 1331/1500... Est. remaining: 1m 44sRunning iteration 1341/1500... Est. remaining: 1m 38sRunning iteration 1351/1500... Est. remaining: 1m 31sRunning iteration 1361/1500... Est. remaining: 1m 25sRunning iteration 1371/1500... Est. remaining: 1m 19sRunning iteration 1381/1500... Est. remaining: 1m 13sRunning iteration 1391/1500... Est. remaining: 1m 7sRunning iteration 1401/1500... Est. remaining: 1m 1sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 55sRunning iteration 1421/1500... Est. remaining: 0m 48sRunning iteration 1431/1500... Est. remaining: 0m 42sRunning iteration 1441/1500... Est. remaining: 0m 36sRunning iteration 1451/1500... Est. remaining: 0m 30sRunning iteration 1461/1500... Est. remaining: 0m 24sRunning iteration 1471/1500... Est. remaining: 0m 18sRunning iteration 1481/1500... Est. remaining: 0m 12sRunning iteration 1491/1500... Est. remaining: 0m 6s
Monte Carlo simulation completed in 15.3 minutes
Best normalized score: 2.05
best_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [50, 52, 95] (score: 2.0463)

Monte Carlo simulation completed in 15.3 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [50, 52, 95] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 108 selections (26.0%)
2. naz100_hma: 100 selections (24.0%)
3. naz100_pine: 76 selections (18.3%)
4. naz100_pi: 74 selections (17.8%)
5. cash: 58 selections (13.9%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $5,389,580,937.96
Average Annualized Gain: 46.3%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 3 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 3/15 runs completed (3 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 4 of 15
Time: Sun Aug 24 14:15:42 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $570,568,777
Annual Return: 37.16%
Sharpe Ratio: 1.29640
Sortino Ratio: 1.199
Max Drawdown: -56.0%
Avg Drawdown: -11.9%
Normalized Score: -1.182
Lookback periods: [51, 111, 142] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $843,611,148
Annual Return: 38.72%
Sharpe Ratio: 1.35013
Sortino Ratio: 1.251
Max Drawdown: -55.0%
Avg Drawdown: -11.9%
Normalized Score: -0.848
Lookback periods: [53, 135, 145] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $809,292,368
Annual Return: 38.55%
Sharpe Ratio: 1.35889
Sortino Ratio: 1.246
Max Drawdown: -52.3%
Avg Drawdown: -10.8%
Normalized Score: -0.608
Lookback periods: [56, 83, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 34m 15s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,198,578,931
Annual Return: 45.29%
Sharpe Ratio: 1.49624
Sortino Ratio: 1.460
Max Drawdown: -67.2%
Avg Drawdown: -12.5%
Normalized Score: -0.240
Lookback periods: [119, 159, 167] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,288,298,430
Annual Return: 48.17%
Sharpe Ratio: 1.58508
Sortino Ratio: 1.546
Max Drawdown: -58.5%
Avg Drawdown: -11.3%
Normalized Score: 0.747
Lookback periods: [136, 155, 179] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 27m 19sRunning iteration 31/1500... Est. remaining: 22m 46sRunning iteration 41/1500... Est. remaining: 20m 23sRunning iteration 51/1500... Est. remaining: 18m 55sRunning iteration 61/1500... Est. remaining: 17m 53sRunning iteration 71/1500... Est. remaining: 17m 8sRunning iteration 81/1500... Est. remaining: 16m 34sRunning iteration 91/1500... Est. remaining: 16m 5sRunning iteration 101/1500... Est. remaining: 15m 42sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 111/1500... Est. remaining: 15m 16sRunning iteration 121/1500... Est. remaining: 14m 54sRunning iteration 131/1500... Est. remaining: 14m 38sRunning iteration 141/1500... Est. remaining: 14m 24sRunning iteration 151/1500... Est. remaining: 14m 11sRunning iteration 161/1500... Est. remaining: 13m 56sRunning iteration 171/1500... Est. remaining: 13m 44sRunning iteration 181/1500... Est. remaining: 13m 34sRunning iteration 191/1500... Est. remaining: 13m 24sRunning iteration 201/1500... Est. remaining: 13m 14sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 211/1500... Est. remaining: 13m 8sRunning iteration 221/1500... Est. remaining: 12m 59sRunning iteration 231/1500... Est. remaining: 12m 51sRunning iteration 241/1500... Est. remaining: 12m 43sRunning iteration 251/1500... Est. remaining: 12m 35sRunning iteration 261/1500... Est. remaining: 12m 27sRunning iteration 271/1500... Est. remaining: 12m 19sRunning iteration 281/1500... Est. remaining: 12m 12sRunning iteration 291/1500... Est. remaining: 12m 4sRunning iteration 301/1500... Est. remaining: 11m 57sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 49sRunning iteration 321/1500... Est. remaining: 11m 42sRunning iteration 331/1500... Est. remaining: 11m 35sRunning iteration 341/1500... Est. remaining: 11m 28sRunning iteration 351/1500... Est. remaining: 11m 21sRunning iteration 361/1500... Est. remaining: 11m 14sRunning iteration 371/1500... Est. remaining: 11m 7sRunning iteration 381/1500... Est. remaining: 11m 0sRunning iteration 391/1500... Est. remaining: 10m 54sRunning iteration 401/1500... Est. remaining: 10m 47sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 40sRunning iteration 421/1500... Est. remaining: 10m 34sRunning iteration 431/1500... Est. remaining: 10m 27sRunning iteration 441/1500... Est. remaining: 10m 21sRunning iteration 451/1500... Est. remaining: 10m 14sRunning iteration 461/1500... Est. remaining: 10m 8sRunning iteration 471/1500... Est. remaining: 10m 1sRunning iteration 481/1500... Est. remaining: 9m 55sRunning iteration 491/1500... Est. remaining: 9m 49sRunning iteration 501/1500... Est. remaining: 9m 43sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 36sRunning iteration 521/1500... Est. remaining: 9m 30sRunning iteration 531/1500... Est. remaining: 9m 24sRunning iteration 541/1500... Est. remaining: 9m 18sRunning iteration 551/1500... Est. remaining: 9m 11sRunning iteration 561/1500... Est. remaining: 9m 4sRunning iteration 571/1500... Est. remaining: 8m 57sRunning iteration 581/1500... Est. remaining: 8m 50sRunning iteration 591/1500... Est. remaining: 8m 43sRunning iteration 601/1500... Est. remaining: 8m 37sbest_combination: {'lookbacks': [136, 155, 179], 'score': np.float64(0.7471032967213412), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 30s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,677,344,022
Annual Return: 41.50%
Sharpe Ratio: 1.49178
Sortino Ratio: 1.388
Max Drawdown: -35.6%
Avg Drawdown: -9.5%
Normalized Score: 0.798
Lookback periods: [52, 56, 83] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 621/1500... Est. remaining: 8m 26s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,870,976,900
Annual Return: 41.94%
Sharpe Ratio: 1.50621
Sortino Ratio: 1.404
Max Drawdown: -34.7%
Avg Drawdown: -9.2%
Normalized Score: 0.948
Lookback periods: [50, 55, 84] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 631/1500... Est. remaining: 8m 21sRunning iteration 641/1500... Est. remaining: 8m 14sRunning iteration 651/1500... Est. remaining: 13m 35s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,713,320,047
Annual Return: 43.47%
Sharpe Ratio: 1.53906
Sortino Ratio: 1.450
Max Drawdown: -36.3%
Avg Drawdown: -9.4%
Normalized Score: 1.119
Lookback periods: [50, 53, 80] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 661/1500... Est. remaining: 18m 39s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,704,630,213
Annual Return: 43.46%
Sharpe Ratio: 1.54453
Sortino Ratio: 1.456
Max Drawdown: -35.6%
Avg Drawdown: -9.1%
Normalized Score: 1.201
Lookback periods: [50, 53, 87] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 671/1500... Est. remaining: 18m 17sRunning iteration 681/1500... Est. remaining: 17m 54sRunning iteration 691/1500... Est. remaining: 17m 31sRunning iteration 701/1500... Est. remaining: 17m 9sbest_combination: {'lookbacks': [50, 53, 87], 'score': np.float64(1.2007531646719218), 'visits': 1}
Running iteration 711/1500... Est. remaining: 16m 48sRunning iteration 721/1500... Est. remaining: 16m 26sRunning iteration 731/1500... Est. remaining: 16m 6sRunning iteration 741/1500... Est. remaining: 15m 45sRunning iteration 751/1500... Est. remaining: 15m 25sRunning iteration 761/1500... Est. remaining: 15m 6s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,267,957,435
Annual Return: 44.25%
Sharpe Ratio: 1.57915
Sortino Ratio: 1.482
Max Drawdown: -34.7%
Avg Drawdown: -9.0%
Normalized Score: 1.407
Lookback periods: [52, 52, 85] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 771/1500... Est. remaining: 14m 48sRunning iteration 781/1500... Est. remaining: 14m 29sRunning iteration 791/1500... Est. remaining: 14m 11sRunning iteration 801/1500... Est. remaining: 13m 53sbest_combination: {'lookbacks': [52, 52, 85], 'score': np.float64(1.406817322269515), 'visits': 1}
Running iteration 811/1500... Est. remaining: 13m 35sRunning iteration 821/1500... Est. remaining: 13m 18sRunning iteration 831/1500... Est. remaining: 13m 1sRunning iteration 841/1500... Est. remaining: 12m 44sRunning iteration 851/1500... Est. remaining: 12m 28sRunning iteration 861/1500... Est. remaining: 12m 11s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,864,014,625
Annual Return: 44.94%
Sharpe Ratio: 1.60063
Sortino Ratio: 1.506
Max Drawdown: -34.7%
Avg Drawdown: -9.0%
Normalized Score: 1.527
Lookback periods: [50, 54, 83] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 871/1500... Est. remaining: 11m 56sRunning iteration 881/1500... Est. remaining: 11m 41sRunning iteration 891/1500... Est. remaining: 11m 25sRunning iteration 901/1500... Est. remaining: 11m 10sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 911/1500... Est. remaining: 10m 55sRunning iteration 921/1500... Est. remaining: 10m 41sRunning iteration 931/1500... Est. remaining: 10m 26sRunning iteration 941/1500... Est. remaining: 10m 12sRunning iteration 951/1500... Est. remaining: 9m 57sRunning iteration 961/1500... Est. remaining: 9m 43sRunning iteration 971/1500... Est. remaining: 9m 29sRunning iteration 981/1500... Est. remaining: 9m 16sRunning iteration 991/1500... Est. remaining: 9m 2sRunning iteration 1001/1500... Est. remaining: 8m 49sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 8m 35sRunning iteration 1021/1500... Est. remaining: 8m 22sRunning iteration 1031/1500... Est. remaining: 8m 9sRunning iteration 1041/1500... Est. remaining: 7m 57sRunning iteration 1051/1500... Est. remaining: 7m 44sRunning iteration 1061/1500... Est. remaining: 7m 32sRunning iteration 1071/1500... Est. remaining: 7m 19sRunning iteration 1081/1500... Est. remaining: 7m 7sRunning iteration 1091/1500... Est. remaining: 6m 55sRunning iteration 1101/1500... Est. remaining: 6m 43sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 6m 31sRunning iteration 1121/1500... Est. remaining: 6m 19sRunning iteration 1131/1500... Est. remaining: 6m 8sRunning iteration 1141/1500... Est. remaining: 5m 56sRunning iteration 1151/1500... Est. remaining: 5m 45sRunning iteration 1161/1500... Est. remaining: 5m 34sRunning iteration 1171/1500... Est. remaining: 5m 23sRunning iteration 1181/1500... Est. remaining: 5m 12sRunning iteration 1191/1500... Est. remaining: 5m 1sRunning iteration 1201/1500... Est. remaining: 4m 50sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 4m 39sRunning iteration 1221/1500... Est. remaining: 4m 28sRunning iteration 1231/1500... Est. remaining: 4m 18sRunning iteration 1241/1500... Est. remaining: 4m 7sRunning iteration 1251/1500... Est. remaining: 3m 57sRunning iteration 1261/1500... Est. remaining: 3m 47sRunning iteration 1271/1500... Est. remaining: 3m 36sRunning iteration 1281/1500... Est. remaining: 3m 26sRunning iteration 1291/1500... Est. remaining: 3m 16sRunning iteration 1301/1500... Est. remaining: 3m 6sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 2m 56sRunning iteration 1321/1500... Est. remaining: 2m 46sRunning iteration 1331/1500... Est. remaining: 2m 36sRunning iteration 1341/1500... Est. remaining: 2m 27sRunning iteration 1351/1500... Est. remaining: 2m 17sRunning iteration 1361/1500... Est. remaining: 2m 7sRunning iteration 1371/1500... Est. remaining: 1m 58sRunning iteration 1381/1500... Est. remaining: 1m 49sRunning iteration 1391/1500... Est. remaining: 1m 39sRunning iteration 1401/1500... Est. remaining: 1m 30sbest_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 1m 20sRunning iteration 1421/1500... Est. remaining: 1m 11sRunning iteration 1431/1500... Est. remaining: 1m 2sRunning iteration 1441/1500... Est. remaining: 0m 53sRunning iteration 1451/1500... Est. remaining: 0m 44sRunning iteration 1461/1500... Est. remaining: 0m 35sRunning iteration 1471/1500... Est. remaining: 0m 26sRunning iteration 1481/1500... Est. remaining: 0m 17sRunning iteration 1491/1500... Est. remaining: 0m 8s
Monte Carlo simulation completed in 21.9 minutes
Best normalized score: 1.53
best_combination: {'lookbacks': [50, 54, 83], 'score': np.float64(1.5269898028367332), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [50, 54, 83] (score: 1.5270)

Monte Carlo simulation completed in 21.9 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [50, 54, 83] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 106 selections (25.5%)
2. naz100_hma: 100 selections (24.0%)
3. naz100_pine: 78 selections (18.8%)
4. naz100_pi: 76 selections (18.3%)
5. cash: 56 selections (13.5%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $3,864,014,625.05
Average Annualized Gain: 44.9%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 4 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 4/15 runs completed (4 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 5 of 15
Time: Sun Aug 24 14:37:46 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $542,238,901
Annual Return: 36.96%
Sharpe Ratio: 1.26163
Sortino Ratio: 1.186
Max Drawdown: -55.9%
Avg Drawdown: -13.2%
Normalized Score: -1.449
Lookback periods: [64, 146, 177] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $790,373,601
Annual Return: 38.46%
Sharpe Ratio: 1.30808
Sortino Ratio: 1.228
Max Drawdown: -55.0%
Avg Drawdown: -12.0%
Normalized Score: -0.973
Lookback periods: [60, 127, 160] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,946,980,623
Annual Return: 42.11%
Sharpe Ratio: 1.40181
Sortino Ratio: 1.353
Max Drawdown: -60.0%
Avg Drawdown: -13.7%
Normalized Score: -0.748
Lookback periods: [119, 141, 150] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,080,245,309
Annual Return: 39.71%
Sharpe Ratio: 1.37288
Sortino Ratio: 1.291
Max Drawdown: -52.3%
Avg Drawdown: -11.1%
Normalized Score: -0.464
Lookback periods: [83, 109, 150] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,197,378,248
Annual Return: 46.19%
Sharpe Ratio: 1.48804
Sortino Ratio: 1.460
Max Drawdown: -62.5%
Avg Drawdown: -11.8%
Normalized Score: 0.108
Lookback periods: [175, 191, 191] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 37m 21sRunning iteration 21/1500... Est. remaining: 24m 57sRunning iteration 31/1500... Est. remaining: 20m 48sRunning iteration 41/1500... Est. remaining: 18m 41sRunning iteration 51/1500... Est. remaining: 17m 21s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,026,929,225
Annual Return: 39.51%
Sharpe Ratio: 1.44733
Sortino Ratio: 1.345
Max Drawdown: -37.0%
Avg Drawdown: -10.0%
Normalized Score: 0.354
Lookback periods: [51, 55, 92] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 61/1500... Est. remaining: 16m 57sRunning iteration 71/1500... Est. remaining: 16m 13sRunning iteration 81/1500... Est. remaining: 15m 40s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,851,906,920
Annual Return: 47.36%
Sharpe Ratio: 1.51629
Sortino Ratio: 1.479
Max Drawdown: -61.2%
Avg Drawdown: -11.2%
Normalized Score: 0.426
Lookback periods: [189, 189, 192] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 91/1500... Est. remaining: 15m 31sRunning iteration 101/1500... Est. remaining: 15m 6sbest_combination: {'lookbacks': [189, 189, 192], 'score': np.float64(0.4260828005920453), 'visits': 1}
Running iteration 111/1500... Est. remaining: 14m 43sRunning iteration 121/1500... Est. remaining: 14m 22sRunning iteration 131/1500... Est. remaining: 14m 3sRunning iteration 141/1500... Est. remaining: 13m 47sRunning iteration 151/1500... Est. remaining: 13m 33sRunning iteration 161/1500... Est. remaining: 13m 20sRunning iteration 171/1500... Est. remaining: 13m 7sRunning iteration 181/1500... Est. remaining: 12m 55sRunning iteration 191/1500... Est. remaining: 12m 45sRunning iteration 201/1500... Est. remaining: 12m 35sbest_combination: {'lookbacks': [189, 189, 192], 'score': np.float64(0.4260828005920453), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 26sRunning iteration 221/1500... Est. remaining: 12m 17sRunning iteration 231/1500... Est. remaining: 12m 9sRunning iteration 241/1500... Est. remaining: 12m 0s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,759,893,226
Annual Return: 47.89%
Sharpe Ratio: 1.55842
Sortino Ratio: 1.516
Max Drawdown: -59.0%
Avg Drawdown: -10.7%
Normalized Score: 0.720
Lookback periods: [157, 160, 183] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 251/1500... Est. remaining: 11m 59sRunning iteration 261/1500... Est. remaining: 11m 50sRunning iteration 271/1500... Est. remaining: 11m 43sRunning iteration 281/1500... Est. remaining: 11m 35sRunning iteration 291/1500... Est. remaining: 11m 27sRunning iteration 301/1500... Est. remaining: 11m 19sbest_combination: {'lookbacks': [157, 160, 183], 'score': np.float64(0.7197858664015019), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 12sRunning iteration 321/1500... Est. remaining: 11m 5sRunning iteration 331/1500... Est. remaining: 10m 58sRunning iteration 341/1500... Est. remaining: 10m 51sRunning iteration 351/1500... Est. remaining: 10m 44sRunning iteration 361/1500... Est. remaining: 10m 37sRunning iteration 371/1500... Est. remaining: 10m 31sRunning iteration 381/1500... Est. remaining: 10m 24sRunning iteration 391/1500... Est. remaining: 10m 18sRunning iteration 401/1500... Est. remaining: 10m 11sbest_combination: {'lookbacks': [157, 160, 183], 'score': np.float64(0.7197858664015019), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 5sRunning iteration 421/1500... Est. remaining: 9m 58sRunning iteration 431/1500... Est. remaining: 9m 52sRunning iteration 441/1500... Est. remaining: 9m 46sRunning iteration 451/1500... Est. remaining: 9m 39sRunning iteration 461/1500... Est. remaining: 9m 33sRunning iteration 471/1500... Est. remaining: 9m 27sRunning iteration 481/1500... Est. remaining: 9m 21sRunning iteration 491/1500... Est. remaining: 9m 15sRunning iteration 501/1500... Est. remaining: 9m 9sbest_combination: {'lookbacks': [157, 160, 183], 'score': np.float64(0.7197858664015019), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 3sRunning iteration 521/1500... Est. remaining: 8m 57sRunning iteration 531/1500... Est. remaining: 8m 51sRunning iteration 541/1500... Est. remaining: 8m 45sRunning iteration 551/1500... Est. remaining: 8m 40sRunning iteration 561/1500... Est. remaining: 8m 34sRunning iteration 571/1500... Est. remaining: 8m 28sRunning iteration 581/1500... Est. remaining: 8m 22sRunning iteration 591/1500... Est. remaining: 8m 16sRunning iteration 601/1500... Est. remaining: 8m 11sbest_combination: {'lookbacks': [157, 160, 183], 'score': np.float64(0.7197858664015019), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 5sRunning iteration 621/1500... Est. remaining: 7m 59sRunning iteration 631/1500... Est. remaining: 7m 53s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,000,942,361
Annual Return: 48.98%
Sharpe Ratio: 1.59174
Sortino Ratio: 1.563
Max Drawdown: -59.0%
Avg Drawdown: -10.1%
Normalized Score: 1.031
Lookback periods: [158, 162, 170] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 641/1500... Est. remaining: 7m 49sRunning iteration 651/1500... Est. remaining: 7m 44sRunning iteration 661/1500... Est. remaining: 7m 38sRunning iteration 671/1500... Est. remaining: 7m 32sRunning iteration 681/1500... Est. remaining: 7m 27sRunning iteration 691/1500... Est. remaining: 7m 21sRunning iteration 701/1500... Est. remaining: 7m 15sbest_combination: {'lookbacks': [158, 162, 170], 'score': np.float64(1.030540133477527), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 10sRunning iteration 721/1500... Est. remaining: 7m 4sRunning iteration 731/1500... Est. remaining: 6m 58sRunning iteration 741/1500... Est. remaining: 6m 53sRunning iteration 751/1500... Est. remaining: 6m 47sRunning iteration 761/1500... Est. remaining: 6m 42sRunning iteration 771/1500... Est. remaining: 6m 36sRunning iteration 781/1500... Est. remaining: 6m 30s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,351,904,072
Annual Return: 48.69%
Sharpe Ratio: 1.58136
Sortino Ratio: 1.549
Max Drawdown: -55.0%
Avg Drawdown: -10.5%
Normalized Score: 1.039
Lookback periods: [156, 162, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 791/1500... Est. remaining: 6m 26sRunning iteration 801/1500... Est. remaining: 6m 20sbest_combination: {'lookbacks': [156, 162, 171], 'score': np.float64(1.0394377764507161), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 15sRunning iteration 821/1500... Est. remaining: 6m 9sRunning iteration 831/1500... Est. remaining: 6m 4sRunning iteration 841/1500... Est. remaining: 5m 58sRunning iteration 851/1500... Est. remaining: 5m 53sRunning iteration 861/1500... Est. remaining: 5m 47sRunning iteration 871/1500... Est. remaining: 5m 41sRunning iteration 881/1500... Est. remaining: 5m 36sRunning iteration 891/1500... Est. remaining: 5m 30sRunning iteration 901/1500... Est. remaining: 5m 25sbest_combination: {'lookbacks': [156, 162, 171], 'score': np.float64(1.0394377764507161), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 20sRunning iteration 921/1500... Est. remaining: 5m 14sRunning iteration 931/1500... Est. remaining: 5m 9sRunning iteration 941/1500... Est. remaining: 5m 3sRunning iteration 951/1500... Est. remaining: 4m 58sRunning iteration 961/1500... Est. remaining: 4m 52sRunning iteration 971/1500... Est. remaining: 4m 47sRunning iteration 981/1500... Est. remaining: 4m 41s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,006,104,553
Annual Return: 48.98%
Sharpe Ratio: 1.59533
Sortino Ratio: 1.568
Max Drawdown: -55.0%
Avg Drawdown: -10.7%
Normalized Score: 1.090
Lookback periods: [156, 162, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 991/1500... Est. remaining: 4m 36sRunning iteration 1001/1500... Est. remaining: 4m 31sbest_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 25sRunning iteration 1021/1500... Est. remaining: 4m 20sRunning iteration 1031/1500... Est. remaining: 4m 14sRunning iteration 1041/1500... Est. remaining: 4m 9sRunning iteration 1051/1500... Est. remaining: 4m 4sRunning iteration 1061/1500... Est. remaining: 3m 58sRunning iteration 1071/1500... Est. remaining: 3m 53sRunning iteration 1081/1500... Est. remaining: 3m 47sRunning iteration 1091/1500... Est. remaining: 3m 42sRunning iteration 1101/1500... Est. remaining: 3m 36sbest_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 31sRunning iteration 1121/1500... Est. remaining: 3m 25sRunning iteration 1131/1500... Est. remaining: 3m 20sRunning iteration 1141/1500... Est. remaining: 3m 14sRunning iteration 1151/1500... Est. remaining: 3m 9sRunning iteration 1161/1500... Est. remaining: 3m 3sRunning iteration 1171/1500... Est. remaining: 2m 58sRunning iteration 1181/1500... Est. remaining: 2m 52sRunning iteration 1191/1500... Est. remaining: 2m 47sRunning iteration 1201/1500... Est. remaining: 2m 42sbest_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 36sRunning iteration 1221/1500... Est. remaining: 2m 31sRunning iteration 1231/1500... Est. remaining: 2m 25sRunning iteration 1241/1500... Est. remaining: 2m 20sRunning iteration 1251/1500... Est. remaining: 2m 14sRunning iteration 1261/1500... Est. remaining: 2m 9sRunning iteration 1271/1500... Est. remaining: 2m 4sRunning iteration 1281/1500... Est. remaining: 1m 58sRunning iteration 1291/1500... Est. remaining: 1m 53sRunning iteration 1301/1500... Est. remaining: 1m 47sbest_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 42sRunning iteration 1321/1500... Est. remaining: 1m 37sRunning iteration 1331/1500... Est. remaining: 1m 31sRunning iteration 1341/1500... Est. remaining: 1m 26sRunning iteration 1351/1500... Est. remaining: 1m 20sRunning iteration 1361/1500... Est. remaining: 1m 15sRunning iteration 1371/1500... Est. remaining: 1m 10sRunning iteration 1381/1500... Est. remaining: 1m 4sRunning iteration 1391/1500... Est. remaining: 0m 59sRunning iteration 1401/1500... Est. remaining: 0m 53sbest_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 48sRunning iteration 1421/1500... Est. remaining: 0m 43sRunning iteration 1431/1500... Est. remaining: 0m 37sRunning iteration 1441/1500... Est. remaining: 0m 32sRunning iteration 1451/1500... Est. remaining: 0m 26sRunning iteration 1461/1500... Est. remaining: 0m 21sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 10sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.4 minutes
Best normalized score: 1.09
best_combination: {'lookbacks': [156, 162, 168], 'score': np.float64(1.0897934474449287), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [156, 162, 168] (score: 1.0898)

Monte Carlo simulation completed in 13.4 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [156, 162, 168] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 113 selections (27.2%)
2. sp500_hma: 107 selections (25.7%)
3. naz100_pi: 80 selections (19.2%)
4. naz100_pine: 80 selections (19.2%)
5. cash: 36 selections (8.7%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $10,006,104,552.70
Average Annualized Gain: 49.0%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 5 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 5/15 runs completed (5 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 6 of 15
Time: Sun Aug 24 14:51:21 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $177,310,224
Annual Return: 32.61%
Sharpe Ratio: 1.12162
Sortino Ratio: 1.035
Max Drawdown: -65.5%
Avg Drawdown: -14.2%
Normalized Score: -2.731
Lookback periods: [66, 164, 194] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $792,328,504
Annual Return: 38.47%
Sharpe Ratio: 1.31412
Sortino Ratio: 1.242
Max Drawdown: -63.2%
Avg Drawdown: -13.4%
Normalized Score: -1.444
Lookback periods: [92, 150, 192] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,846,620,226
Annual Return: 41.89%
Sharpe Ratio: 1.44128
Sortino Ratio: 1.340
Max Drawdown: -56.4%
Avg Drawdown: -11.0%
Normalized Score: -0.222
Lookback periods: [54, 148, 166] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 31m 5s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,437,721,043
Annual Return: 44.46%
Sharpe Ratio: 1.44725
Sortino Ratio: 1.411
Max Drawdown: -60.7%
Avg Drawdown: -11.5%
Normalized Score: -0.076
Lookback periods: [158, 166, 188] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 23m 30sRunning iteration 31/1500... Est. remaining: 19m 51sRunning iteration 41/1500... Est. remaining: 17m 57s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,473,886,215
Annual Return: 47.73%
Sharpe Ratio: 1.56227
Sortino Ratio: 1.528
Max Drawdown: -57.2%
Avg Drawdown: -11.5%
Normalized Score: 0.672
Lookback periods: [127, 154, 157] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 51/1500... Est. remaining: 17m 23sRunning iteration 61/1500... Est. remaining: 16m 32sRunning iteration 71/1500... Est. remaining: 15m 51sRunning iteration 81/1500... Est. remaining: 15m 25sRunning iteration 91/1500... Est. remaining: 15m 1sRunning iteration 101/1500... Est. remaining: 14m 34sbest_combination: {'lookbacks': [127, 154, 157], 'score': np.float64(0.671933775850718), 'visits': 1}
Running iteration 111/1500... Est. remaining: 14m 10sRunning iteration 121/1500... Est. remaining: 13m 52sRunning iteration 131/1500... Est. remaining: 13m 37sRunning iteration 141/1500... Est. remaining: 13m 24sRunning iteration 151/1500... Est. remaining: 13m 15sRunning iteration 161/1500... Est. remaining: 13m 10sRunning iteration 171/1500... Est. remaining: 12m 59sRunning iteration 181/1500... Est. remaining: 12m 47sRunning iteration 191/1500... Est. remaining: 12m 36sRunning iteration 201/1500... Est. remaining: 12m 31sbest_combination: {'lookbacks': [127, 154, 157], 'score': np.float64(0.671933775850718), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 22sRunning iteration 221/1500... Est. remaining: 12m 13sRunning iteration 231/1500... Est. remaining: 12m 5sRunning iteration 241/1500... Est. remaining: 11m 57sRunning iteration 251/1500... Est. remaining: 11m 49sRunning iteration 261/1500... Est. remaining: 11m 41sRunning iteration 271/1500... Est. remaining: 11m 34sRunning iteration 281/1500... Est. remaining: 11m 26sRunning iteration 291/1500... Est. remaining: 11m 19sRunning iteration 301/1500... Est. remaining: 11m 12sbest_combination: {'lookbacks': [127, 154, 157], 'score': np.float64(0.671933775850718), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 6sRunning iteration 321/1500... Est. remaining: 11m 0sRunning iteration 331/1500... Est. remaining: 10m 53sRunning iteration 341/1500... Est. remaining: 10m 47sRunning iteration 351/1500... Est. remaining: 10m 41sRunning iteration 361/1500... Est. remaining: 10m 34sRunning iteration 371/1500... Est. remaining: 10m 28sRunning iteration 381/1500... Est. remaining: 10m 22sRunning iteration 391/1500... Est. remaining: 10m 15sRunning iteration 401/1500... Est. remaining: 10m 9sbest_combination: {'lookbacks': [127, 154, 157], 'score': np.float64(0.671933775850718), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 3sRunning iteration 421/1500... Est. remaining: 9m 56sRunning iteration 431/1500... Est. remaining: 9m 50sRunning iteration 441/1500... Est. remaining: 9m 44sRunning iteration 451/1500... Est. remaining: 9m 38sRunning iteration 461/1500... Est. remaining: 9m 32sRunning iteration 471/1500... Est. remaining: 9m 26sRunning iteration 481/1500... Est. remaining: 9m 20sRunning iteration 491/1500... Est. remaining: 9m 14s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,682,843,924
Annual Return: 47.85%
Sharpe Ratio: 1.58310
Sortino Ratio: 1.540
Max Drawdown: -57.2%
Avg Drawdown: -11.6%
Normalized Score: 0.709
Lookback periods: [136, 156, 166] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 501/1500... Est. remaining: 9m 10sbest_combination: {'lookbacks': [136, 156, 166], 'score': np.float64(0.7086690205820627), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 4sRunning iteration 521/1500... Est. remaining: 8m 59sRunning iteration 531/1500... Est. remaining: 8m 53sRunning iteration 541/1500... Est. remaining: 8m 47sRunning iteration 551/1500... Est. remaining: 8m 41sRunning iteration 561/1500... Est. remaining: 8m 35sRunning iteration 571/1500... Est. remaining: 8m 29sRunning iteration 581/1500... Est. remaining: 8m 23sRunning iteration 591/1500... Est. remaining: 8m 17sRunning iteration 601/1500... Est. remaining: 8m 12sbest_combination: {'lookbacks': [136, 156, 166], 'score': np.float64(0.7086690205820627), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 6sRunning iteration 621/1500... Est. remaining: 8m 0sRunning iteration 631/1500... Est. remaining: 7m 54sRunning iteration 641/1500... Est. remaining: 7m 49sRunning iteration 651/1500... Est. remaining: 7m 43sRunning iteration 661/1500... Est. remaining: 7m 37sRunning iteration 671/1500... Est. remaining: 7m 31sRunning iteration 681/1500... Est. remaining: 7m 26sRunning iteration 691/1500... Est. remaining: 7m 20sRunning iteration 701/1500... Est. remaining: 7m 15sbest_combination: {'lookbacks': [136, 156, 166], 'score': np.float64(0.7086690205820627), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 9sRunning iteration 721/1500... Est. remaining: 7m 3sRunning iteration 731/1500... Est. remaining: 6m 58sRunning iteration 741/1500... Est. remaining: 6m 52sRunning iteration 751/1500... Est. remaining: 6m 46sRunning iteration 761/1500... Est. remaining: 6m 41sRunning iteration 771/1500... Est. remaining: 6m 35sRunning iteration 781/1500... Est. remaining: 6m 29sRunning iteration 791/1500... Est. remaining: 6m 24sRunning iteration 801/1500... Est. remaining: 6m 18sbest_combination: {'lookbacks': [136, 156, 166], 'score': np.float64(0.7086690205820627), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 13s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,284,223,219
Annual Return: 48.66%
Sharpe Ratio: 1.58518
Sortino Ratio: 1.550
Max Drawdown: -59.7%
Avg Drawdown: -11.5%
Normalized Score: 0.739
Lookback periods: [146, 155, 169] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 821/1500... Est. remaining: 6m 8sRunning iteration 831/1500... Est. remaining: 6m 3sRunning iteration 841/1500... Est. remaining: 5m 57sRunning iteration 851/1500... Est. remaining: 5m 52sRunning iteration 861/1500... Est. remaining: 5m 46sRunning iteration 871/1500... Est. remaining: 5m 41sRunning iteration 881/1500... Est. remaining: 5m 35sRunning iteration 891/1500... Est. remaining: 5m 30sRunning iteration 901/1500... Est. remaining: 5m 24sbest_combination: {'lookbacks': [146, 155, 169], 'score': np.float64(0.7389675939548475), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 19sRunning iteration 921/1500... Est. remaining: 5m 13sRunning iteration 931/1500... Est. remaining: 5m 8sRunning iteration 941/1500... Est. remaining: 5m 2sRunning iteration 951/1500... Est. remaining: 4m 57sRunning iteration 961/1500... Est. remaining: 4m 51sRunning iteration 971/1500... Est. remaining: 4m 46sRunning iteration 981/1500... Est. remaining: 4m 40sRunning iteration 991/1500... Est. remaining: 4m 35sRunning iteration 1001/1500... Est. remaining: 4m 29sbest_combination: {'lookbacks': [146, 155, 169], 'score': np.float64(0.7389675939548475), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 24s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,279,860,710
Annual Return: 48.17%
Sharpe Ratio: 1.58510
Sortino Ratio: 1.551
Max Drawdown: -57.2%
Avg Drawdown: -11.3%
Normalized Score: 0.796
Lookback periods: [139, 153, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1021/1500... Est. remaining: 4m 19sRunning iteration 1031/1500... Est. remaining: 4m 14sRunning iteration 1041/1500... Est. remaining: 4m 8sRunning iteration 1051/1500... Est. remaining: 4m 3sRunning iteration 1061/1500... Est. remaining: 3m 57sRunning iteration 1071/1500... Est. remaining: 3m 52sRunning iteration 1081/1500... Est. remaining: 3m 46sRunning iteration 1091/1500... Est. remaining: 3m 41sRunning iteration 1101/1500... Est. remaining: 3m 35sbest_combination: {'lookbacks': [139, 153, 156], 'score': np.float64(0.7963985320514374), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 30sRunning iteration 1121/1500... Est. remaining: 3m 25sRunning iteration 1131/1500... Est. remaining: 3m 19s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,836,029,240
Annual Return: 48.91%
Sharpe Ratio: 1.59924
Sortino Ratio: 1.566
Max Drawdown: -55.0%
Avg Drawdown: -10.5%
Normalized Score: 1.112
Lookback periods: [156, 160, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1141/1500... Est. remaining: 3m 14sRunning iteration 1151/1500... Est. remaining: 3m 9sRunning iteration 1161/1500... Est. remaining: 3m 3sRunning iteration 1171/1500... Est. remaining: 2m 58sRunning iteration 1181/1500... Est. remaining: 2m 52sRunning iteration 1191/1500... Est. remaining: 2m 47sRunning iteration 1201/1500... Est. remaining: 2m 42sbest_combination: {'lookbacks': [156, 160, 168], 'score': np.float64(1.1118860036712301), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 36sRunning iteration 1221/1500... Est. remaining: 2m 31sRunning iteration 1231/1500... Est. remaining: 2m 25sRunning iteration 1241/1500... Est. remaining: 2m 20sRunning iteration 1251/1500... Est. remaining: 2m 15sRunning iteration 1261/1500... Est. remaining: 2m 9sRunning iteration 1271/1500... Est. remaining: 2m 4sRunning iteration 1281/1500... Est. remaining: 1m 58sRunning iteration 1291/1500... Est. remaining: 1m 53sRunning iteration 1301/1500... Est. remaining: 1m 47sbest_combination: {'lookbacks': [156, 160, 168], 'score': np.float64(1.1118860036712301), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 42sRunning iteration 1321/1500... Est. remaining: 1m 37sRunning iteration 1331/1500... Est. remaining: 1m 31sRunning iteration 1341/1500... Est. remaining: 1m 26sRunning iteration 1351/1500... Est. remaining: 1m 20sRunning iteration 1361/1500... Est. remaining: 1m 15sRunning iteration 1371/1500... Est. remaining: 1m 10sRunning iteration 1381/1500... Est. remaining: 1m 4sRunning iteration 1391/1500... Est. remaining: 0m 59sRunning iteration 1401/1500... Est. remaining: 0m 53sbest_combination: {'lookbacks': [156, 160, 168], 'score': np.float64(1.1118860036712301), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 48sRunning iteration 1421/1500... Est. remaining: 0m 43sRunning iteration 1431/1500... Est. remaining: 0m 37sRunning iteration 1441/1500... Est. remaining: 0m 32sRunning iteration 1451/1500... Est. remaining: 0m 26sRunning iteration 1461/1500... Est. remaining: 0m 21sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 10sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.4 minutes
Best normalized score: 1.11
best_combination: {'lookbacks': [156, 160, 168], 'score': np.float64(1.1118860036712301), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [156, 160, 168] (score: 1.1119)

Monte Carlo simulation completed in 13.4 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [156, 160, 168] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 116 selections (27.9%)
2. sp500_hma: 110 selections (26.4%)
3. naz100_pine: 79 selections (19.0%)
4. naz100_pi: 75 selections (18.0%)
5. cash: 36 selections (8.7%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $9,836,029,239.59
Average Annualized Gain: 48.9%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 6 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 6/15 runs completed (6 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 7 of 15
Time: Sun Aug 24 15:04:56 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,151,788,222
Annual Return: 42.52%
Sharpe Ratio: 1.43261
Sortino Ratio: 1.369
Max Drawdown: -55.0%
Avg Drawdown: -12.6%
Normalized Score: -0.327
Lookback periods: [88, 132, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,559,772,402
Annual Return: 45.64%
Sharpe Ratio: 1.48975
Sortino Ratio: 1.450
Max Drawdown: -64.0%
Avg Drawdown: -12.7%
Normalized Score: -0.141
Lookback periods: [106, 156, 175] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,565,496,898
Annual Return: 45.64%
Sharpe Ratio: 1.51349
Sortino Ratio: 1.470
Max Drawdown: -55.0%
Avg Drawdown: -11.5%
Normalized Score: 0.392
Lookback periods: [127, 130, 155] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 30m 50sRunning iteration 21/1500... Est. remaining: 21m 50sRunning iteration 31/1500... Est. remaining: 18m 41s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,538,194,797
Annual Return: 48.77%
Sharpe Ratio: 1.58463
Sortino Ratio: 1.547
Max Drawdown: -65.8%
Avg Drawdown: -11.9%
Normalized Score: 0.470
Lookback periods: [150, 159, 189] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 17m 51sRunning iteration 51/1500... Est. remaining: 16m 45sRunning iteration 61/1500... Est. remaining: 15m 59sRunning iteration 71/1500... Est. remaining: 15m 22sRunning iteration 81/1500... Est. remaining: 14m 53sRunning iteration 91/1500... Est. remaining: 14m 30sRunning iteration 101/1500... Est. remaining: 14m 6sbest_combination: {'lookbacks': [150, 159, 189], 'score': np.float64(0.4700076269216198), 'visits': 1}
Running iteration 111/1500... Est. remaining: 13m 46sRunning iteration 121/1500... Est. remaining: 13m 31sRunning iteration 131/1500... Est. remaining: 13m 18sRunning iteration 141/1500... Est. remaining: 13m 7sRunning iteration 151/1500... Est. remaining: 12m 56sRunning iteration 161/1500... Est. remaining: 12m 45sRunning iteration 171/1500... Est. remaining: 12m 35sRunning iteration 181/1500... Est. remaining: 12m 27s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,632,307,148
Annual Return: 47.22%
Sharpe Ratio: 1.52343
Sortino Ratio: 1.491
Max Drawdown: -59.0%
Avg Drawdown: -11.4%
Normalized Score: 0.470
Lookback periods: [178, 190, 196] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 191/1500... Est. remaining: 12m 26sRunning iteration 201/1500... Est. remaining: 12m 17sbest_combination: {'lookbacks': [178, 190, 196], 'score': np.float64(0.47042861353598076), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 8sRunning iteration 221/1500... Est. remaining: 11m 59sRunning iteration 231/1500... Est. remaining: 11m 51sRunning iteration 241/1500... Est. remaining: 11m 43sRunning iteration 251/1500... Est. remaining: 11m 36sRunning iteration 261/1500... Est. remaining: 11m 28sRunning iteration 271/1500... Est. remaining: 11m 21s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,401,816,874
Annual Return: 48.71%
Sharpe Ratio: 1.57288
Sortino Ratio: 1.534
Max Drawdown: -59.0%
Avg Drawdown: -11.8%
Normalized Score: 0.681
Lookback periods: [181, 185, 189] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 281/1500... Est. remaining: 11m 20sRunning iteration 291/1500... Est. remaining: 11m 13sRunning iteration 301/1500... Est. remaining: 11m 7sbest_combination: {'lookbacks': [181, 185, 189], 'score': np.float64(0.6814112561750109), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 1sRunning iteration 321/1500... Est. remaining: 10m 54sRunning iteration 331/1500... Est. remaining: 10m 47sRunning iteration 341/1500... Est. remaining: 10m 41sRunning iteration 351/1500... Est. remaining: 10m 34sRunning iteration 361/1500... Est. remaining: 10m 28sRunning iteration 371/1500... Est. remaining: 10m 21sRunning iteration 381/1500... Est. remaining: 10m 15sRunning iteration 391/1500... Est. remaining: 10m 9sRunning iteration 401/1500... Est. remaining: 10m 4sbest_combination: {'lookbacks': [181, 185, 189], 'score': np.float64(0.6814112561750109), 'visits': 1}
Running iteration 411/1500... Est. remaining: 9m 59sRunning iteration 421/1500... Est. remaining: 9m 54sRunning iteration 431/1500... Est. remaining: 9m 48sRunning iteration 441/1500... Est. remaining: 9m 41sRunning iteration 451/1500... Est. remaining: 9m 36sRunning iteration 461/1500... Est. remaining: 9m 31sRunning iteration 471/1500... Est. remaining: 9m 26sRunning iteration 481/1500... Est. remaining: 9m 20sRunning iteration 491/1500... Est. remaining: 9m 14s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,556,190,369
Annual Return: 49.21%
Sharpe Ratio: 1.58462
Sortino Ratio: 1.554
Max Drawdown: -59.0%
Avg Drawdown: -11.5%
Normalized Score: 0.814
Lookback periods: [177, 184, 188] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 501/1500... Est. remaining: 9m 11sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 6sRunning iteration 521/1500... Est. remaining: 9m 1sRunning iteration 531/1500... Est. remaining: 8m 55sRunning iteration 541/1500... Est. remaining: 8m 49sRunning iteration 551/1500... Est. remaining: 8m 44sRunning iteration 561/1500... Est. remaining: 8m 38sRunning iteration 571/1500... Est. remaining: 8m 32sRunning iteration 581/1500... Est. remaining: 8m 26sRunning iteration 591/1500... Est. remaining: 8m 20sRunning iteration 601/1500... Est. remaining: 8m 14sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 9sRunning iteration 621/1500... Est. remaining: 8m 3sRunning iteration 631/1500... Est. remaining: 7m 58sRunning iteration 641/1500... Est. remaining: 7m 53sRunning iteration 651/1500... Est. remaining: 7m 47sRunning iteration 661/1500... Est. remaining: 7m 41sRunning iteration 671/1500... Est. remaining: 7m 35sRunning iteration 681/1500... Est. remaining: 7m 30sRunning iteration 691/1500... Est. remaining: 7m 24sRunning iteration 701/1500... Est. remaining: 7m 18sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 13sRunning iteration 721/1500... Est. remaining: 7m 7sRunning iteration 731/1500... Est. remaining: 7m 1sRunning iteration 741/1500... Est. remaining: 6m 56sRunning iteration 751/1500... Est. remaining: 6m 50sRunning iteration 761/1500... Est. remaining: 6m 44sRunning iteration 771/1500... Est. remaining: 6m 39sRunning iteration 781/1500... Est. remaining: 6m 33sRunning iteration 791/1500... Est. remaining: 6m 28sRunning iteration 801/1500... Est. remaining: 6m 22sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 17sRunning iteration 821/1500... Est. remaining: 6m 11sRunning iteration 831/1500... Est. remaining: 6m 6sRunning iteration 841/1500... Est. remaining: 6m 0sRunning iteration 851/1500... Est. remaining: 5m 55sRunning iteration 861/1500... Est. remaining: 5m 49sRunning iteration 871/1500... Est. remaining: 5m 43sRunning iteration 881/1500... Est. remaining: 5m 38sRunning iteration 891/1500... Est. remaining: 5m 33sRunning iteration 901/1500... Est. remaining: 5m 27sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 22sRunning iteration 921/1500... Est. remaining: 5m 17sRunning iteration 931/1500... Est. remaining: 5m 11sRunning iteration 941/1500... Est. remaining: 5m 6sRunning iteration 951/1500... Est. remaining: 5m 0sRunning iteration 961/1500... Est. remaining: 4m 55sRunning iteration 971/1500... Est. remaining: 4m 49sRunning iteration 981/1500... Est. remaining: 4m 43sRunning iteration 991/1500... Est. remaining: 4m 38sRunning iteration 1001/1500... Est. remaining: 4m 32sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 27sRunning iteration 1021/1500... Est. remaining: 4m 21sRunning iteration 1031/1500... Est. remaining: 4m 16sRunning iteration 1041/1500... Est. remaining: 4m 10sRunning iteration 1051/1500... Est. remaining: 4m 5sRunning iteration 1061/1500... Est. remaining: 3m 59sRunning iteration 1071/1500... Est. remaining: 3m 54sRunning iteration 1081/1500... Est. remaining: 3m 48sRunning iteration 1091/1500... Est. remaining: 3m 43sRunning iteration 1101/1500... Est. remaining: 3m 37sbest_combination: {'lookbacks': [177, 184, 188], 'score': np.float64(0.8143220199916861), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 32s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,985,072,230
Annual Return: 49.38%
Sharpe Ratio: 1.58715
Sortino Ratio: 1.545
Max Drawdown: -59.0%
Avg Drawdown: -11.3%
Normalized Score: 0.850
Lookback periods: [181, 189, 190] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1121/1500... Est. remaining: 3m 27sRunning iteration 1131/1500... Est. remaining: 3m 21sRunning iteration 1141/1500... Est. remaining: 3m 16sRunning iteration 1151/1500... Est. remaining: 3m 10sRunning iteration 1161/1500... Est. remaining: 3m 5sRunning iteration 1171/1500... Est. remaining: 2m 59sRunning iteration 1181/1500... Est. remaining: 2m 54sRunning iteration 1191/1500... Est. remaining: 2m 48sRunning iteration 1201/1500... Est. remaining: 2m 43sbest_combination: {'lookbacks': [181, 189, 190], 'score': np.float64(0.8504065660218588), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 37sRunning iteration 1221/1500... Est. remaining: 2m 32sRunning iteration 1231/1500... Est. remaining: 2m 26sRunning iteration 1241/1500... Est. remaining: 2m 21sRunning iteration 1251/1500... Est. remaining: 2m 16sRunning iteration 1261/1500... Est. remaining: 2m 10sRunning iteration 1271/1500... Est. remaining: 2m 5sRunning iteration 1281/1500... Est. remaining: 1m 59sRunning iteration 1291/1500... Est. remaining: 1m 54sRunning iteration 1301/1500... Est. remaining: 1m 48sbest_combination: {'lookbacks': [181, 189, 190], 'score': np.float64(0.8504065660218588), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 43sRunning iteration 1321/1500... Est. remaining: 1m 37sRunning iteration 1331/1500... Est. remaining: 1m 32sRunning iteration 1341/1500... Est. remaining: 1m 26sRunning iteration 1351/1500... Est. remaining: 1m 21sRunning iteration 1361/1500... Est. remaining: 1m 16sRunning iteration 1371/1500... Est. remaining: 1m 10sRunning iteration 1381/1500... Est. remaining: 1m 5sRunning iteration 1391/1500... Est. remaining: 0m 59sRunning iteration 1401/1500... Est. remaining: 0m 54sbest_combination: {'lookbacks': [181, 189, 190], 'score': np.float64(0.8504065660218588), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 48sRunning iteration 1421/1500... Est. remaining: 0m 43sRunning iteration 1431/1500... Est. remaining: 0m 37sRunning iteration 1441/1500... Est. remaining: 0m 32sRunning iteration 1451/1500... Est. remaining: 0m 27sRunning iteration 1461/1500... Est. remaining: 0m 21sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 10sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.6 minutes
Best normalized score: 0.85
best_combination: {'lookbacks': [181, 189, 190], 'score': np.float64(0.8504065660218588), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [181, 189, 190] (score: 0.8504)

Monte Carlo simulation completed in 13.6 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [181, 189, 190] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 123 selections (29.6%)
2. sp500_hma: 101 selections (24.3%)
3. naz100_pine: 83 selections (20.0%)
4. naz100_pi: 71 selections (17.1%)
5. cash: 38 selections (9.1%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $10,985,072,230.26
Average Annualized Gain: 49.4%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 7 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 7/15 runs completed (7 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 8 of 15
Time: Sun Aug 24 15:18:38 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $722,340,637
Annual Return: 38.10%
Sharpe Ratio: 1.30318
Sortino Ratio: 1.227
Max Drawdown: -57.2%
Avg Drawdown: -12.8%
Normalized Score: -1.217
Lookback periods: [62, 155, 175] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,141,612,593
Annual Return: 39.93%
Sharpe Ratio: 1.36262
Sortino Ratio: 1.274
Max Drawdown: -55.0%
Avg Drawdown: -12.1%
Normalized Score: -0.714
Lookback periods: [50, 128, 137] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,145,819,322
Annual Return: 44.09%
Sharpe Ratio: 1.43592
Sortino Ratio: 1.409
Max Drawdown: -65.7%
Avg Drawdown: -12.0%
Normalized Score: -0.369
Lookback periods: [146, 163, 164] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,851,157,412
Annual Return: 45.90%
Sharpe Ratio: 1.49703
Sortino Ratio: 1.466
Max Drawdown: -61.0%
Avg Drawdown: -12.1%
Normalized Score: 0.102
Lookback periods: [139, 174, 189] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 34m 16sRunning iteration 21/1500... Est. remaining: 23m 30sRunning iteration 31/1500... Est. remaining: 19m 46s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,774,437,622
Annual Return: 47.31%
Sharpe Ratio: 1.55548
Sortino Ratio: 1.518
Max Drawdown: -61.3%
Avg Drawdown: -11.8%
Normalized Score: 0.415
Lookback periods: [136, 153, 157] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 18m 50sRunning iteration 51/1500... Est. remaining: 17m 34sRunning iteration 61/1500... Est. remaining: 16m 38sRunning iteration 71/1500... Est. remaining: 15m 55sRunning iteration 81/1500... Est. remaining: 15m 19sRunning iteration 91/1500... Est. remaining: 14m 52sRunning iteration 101/1500... Est. remaining: 14m 25sbest_combination: {'lookbacks': [136, 153, 157], 'score': np.float64(0.4153357543945867), 'visits': 1}
Running iteration 111/1500... Est. remaining: 14m 5sRunning iteration 121/1500... Est. remaining: 13m 49sRunning iteration 131/1500... Est. remaining: 13m 38sRunning iteration 141/1500... Est. remaining: 13m 25sRunning iteration 151/1500... Est. remaining: 13m 14sRunning iteration 161/1500... Est. remaining: 13m 4sRunning iteration 171/1500... Est. remaining: 12m 53sRunning iteration 181/1500... Est. remaining: 12m 44sRunning iteration 191/1500... Est. remaining: 12m 33sRunning iteration 201/1500... Est. remaining: 12m 23sbest_combination: {'lookbacks': [136, 153, 157], 'score': np.float64(0.4153357543945867), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 14sRunning iteration 221/1500... Est. remaining: 12m 6sRunning iteration 231/1500... Est. remaining: 11m 58sRunning iteration 241/1500... Est. remaining: 11m 51sRunning iteration 251/1500... Est. remaining: 11m 43sRunning iteration 261/1500... Est. remaining: 11m 36sRunning iteration 271/1500... Est. remaining: 11m 29sRunning iteration 281/1500... Est. remaining: 11m 21sRunning iteration 291/1500... Est. remaining: 11m 15sRunning iteration 301/1500... Est. remaining: 11m 8sbest_combination: {'lookbacks': [136, 153, 157], 'score': np.float64(0.4153357543945867), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 1sRunning iteration 321/1500... Est. remaining: 10m 54sRunning iteration 331/1500... Est. remaining: 10m 48sRunning iteration 341/1500... Est. remaining: 10m 41sRunning iteration 351/1500... Est. remaining: 10m 35sRunning iteration 361/1500... Est. remaining: 10m 28sRunning iteration 371/1500... Est. remaining: 10m 22sRunning iteration 381/1500... Est. remaining: 10m 16sRunning iteration 391/1500... Est. remaining: 10m 9sRunning iteration 401/1500... Est. remaining: 10m 3sbest_combination: {'lookbacks': [136, 153, 157], 'score': np.float64(0.4153357543945867), 'visits': 1}
Running iteration 411/1500... Est. remaining: 9m 57sRunning iteration 421/1500... Est. remaining: 9m 51sRunning iteration 431/1500... Est. remaining: 9m 45sRunning iteration 441/1500... Est. remaining: 9m 39sRunning iteration 451/1500... Est. remaining: 9m 33sRunning iteration 461/1500... Est. remaining: 9m 27sRunning iteration 471/1500... Est. remaining: 9m 21sRunning iteration 481/1500... Est. remaining: 9m 15sRunning iteration 491/1500... Est. remaining: 9m 10sRunning iteration 501/1500... Est. remaining: 9m 4sbest_combination: {'lookbacks': [136, 153, 157], 'score': np.float64(0.4153357543945867), 'visits': 1}
Running iteration 511/1500... Est. remaining: 8m 58sRunning iteration 521/1500... Est. remaining: 8m 53sRunning iteration 531/1500... Est. remaining: 8m 47sRunning iteration 541/1500... Est. remaining: 8m 41s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,738,316,087
Annual Return: 48.40%
Sharpe Ratio: 1.59833
Sortino Ratio: 1.566
Max Drawdown: -57.2%
Avg Drawdown: -11.5%
Normalized Score: 0.834
Lookback periods: [140, 147, 158] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 551/1500... Est. remaining: 8m 38sRunning iteration 561/1500... Est. remaining: 8m 32sRunning iteration 571/1500... Est. remaining: 8m 26sRunning iteration 581/1500... Est. remaining: 8m 21sRunning iteration 591/1500... Est. remaining: 8m 15sRunning iteration 601/1500... Est. remaining: 8m 9sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 3sRunning iteration 621/1500... Est. remaining: 7m 58sRunning iteration 631/1500... Est. remaining: 7m 52sRunning iteration 641/1500... Est. remaining: 7m 47sRunning iteration 651/1500... Est. remaining: 7m 41sRunning iteration 661/1500... Est. remaining: 7m 36sRunning iteration 671/1500... Est. remaining: 7m 30sRunning iteration 681/1500... Est. remaining: 7m 24sRunning iteration 691/1500... Est. remaining: 7m 19sRunning iteration 701/1500... Est. remaining: 7m 13sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 8sRunning iteration 721/1500... Est. remaining: 7m 2sRunning iteration 731/1500... Est. remaining: 6m 57sRunning iteration 741/1500... Est. remaining: 6m 52sRunning iteration 751/1500... Est. remaining: 6m 46sRunning iteration 761/1500... Est. remaining: 6m 41sRunning iteration 771/1500... Est. remaining: 6m 35sRunning iteration 781/1500... Est. remaining: 6m 30sRunning iteration 791/1500... Est. remaining: 6m 24sRunning iteration 801/1500... Est. remaining: 6m 18sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 13sRunning iteration 821/1500... Est. remaining: 6m 7sRunning iteration 831/1500... Est. remaining: 6m 2sRunning iteration 841/1500... Est. remaining: 5m 57sRunning iteration 851/1500... Est. remaining: 5m 51sRunning iteration 861/1500... Est. remaining: 5m 46sRunning iteration 871/1500... Est. remaining: 5m 40sRunning iteration 881/1500... Est. remaining: 5m 35sRunning iteration 891/1500... Est. remaining: 5m 30sRunning iteration 901/1500... Est. remaining: 5m 24sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 19sRunning iteration 921/1500... Est. remaining: 5m 13sRunning iteration 931/1500... Est. remaining: 5m 8sRunning iteration 941/1500... Est. remaining: 5m 2sRunning iteration 951/1500... Est. remaining: 4m 57sRunning iteration 961/1500... Est. remaining: 4m 51sRunning iteration 971/1500... Est. remaining: 4m 46sRunning iteration 981/1500... Est. remaining: 4m 41sRunning iteration 991/1500... Est. remaining: 4m 36sRunning iteration 1001/1500... Est. remaining: 4m 30sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 25sRunning iteration 1021/1500... Est. remaining: 4m 19sRunning iteration 1031/1500... Est. remaining: 4m 14sRunning iteration 1041/1500... Est. remaining: 4m 8sRunning iteration 1051/1500... Est. remaining: 4m 3sRunning iteration 1061/1500... Est. remaining: 3m 57sRunning iteration 1071/1500... Est. remaining: 3m 52sRunning iteration 1081/1500... Est. remaining: 3m 46sRunning iteration 1091/1500... Est. remaining: 3m 41sRunning iteration 1101/1500... Est. remaining: 3m 35sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 30sRunning iteration 1121/1500... Est. remaining: 3m 25sRunning iteration 1131/1500... Est. remaining: 3m 19sRunning iteration 1141/1500... Est. remaining: 3m 14sRunning iteration 1151/1500... Est. remaining: 3m 8sRunning iteration 1161/1500... Est. remaining: 3m 3sRunning iteration 1171/1500... Est. remaining: 2m 57sRunning iteration 1181/1500... Est. remaining: 2m 52sRunning iteration 1191/1500... Est. remaining: 2m 47sRunning iteration 1201/1500... Est. remaining: 2m 41sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 36sRunning iteration 1221/1500... Est. remaining: 2m 30sRunning iteration 1231/1500... Est. remaining: 2m 25sRunning iteration 1241/1500... Est. remaining: 2m 19sRunning iteration 1251/1500... Est. remaining: 2m 14sRunning iteration 1261/1500... Est. remaining: 2m 9sRunning iteration 1271/1500... Est. remaining: 2m 3sRunning iteration 1281/1500... Est. remaining: 1m 58sRunning iteration 1291/1500... Est. remaining: 1m 52sRunning iteration 1301/1500... Est. remaining: 1m 47sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 42sRunning iteration 1321/1500... Est. remaining: 1m 36sRunning iteration 1331/1500... Est. remaining: 1m 31sRunning iteration 1341/1500... Est. remaining: 1m 26sRunning iteration 1351/1500... Est. remaining: 1m 20sRunning iteration 1361/1500... Est. remaining: 1m 15sRunning iteration 1371/1500... Est. remaining: 1m 9sRunning iteration 1381/1500... Est. remaining: 1m 4sRunning iteration 1391/1500... Est. remaining: 0m 59sRunning iteration 1401/1500... Est. remaining: 0m 53sbest_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 48sRunning iteration 1421/1500... Est. remaining: 0m 42sRunning iteration 1431/1500... Est. remaining: 0m 37sRunning iteration 1441/1500... Est. remaining: 0m 32sRunning iteration 1451/1500... Est. remaining: 0m 26sRunning iteration 1461/1500... Est. remaining: 0m 21sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 10sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.4 minutes
Best normalized score: 0.83
best_combination: {'lookbacks': [140, 147, 158], 'score': np.float64(0.8340071551852084), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [140, 147, 158] (score: 0.8340)

Monte Carlo simulation completed in 13.4 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [140, 147, 158] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 111 selections (26.7%)
2. naz100_hma: 108 selections (26.0%)
3. naz100_pi: 84 selections (20.2%)
4. naz100_pine: 76 selections (18.3%)
5. cash: 37 selections (8.9%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $8,738,316,087.24
Average Annualized Gain: 48.4%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 8 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 8/15 runs completed (8 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 9 of 15
Time: Sun Aug 24 15:32:11 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $434,685,399
Annual Return: 36.09%
Sharpe Ratio: 1.25018
Sortino Ratio: 1.168
Max Drawdown: -52.3%
Avg Drawdown: -11.4%
Normalized Score: -1.181
Lookback periods: [79, 105, 158] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 24m 48s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,044,748,256
Annual Return: 39.58%
Sharpe Ratio: 1.33192
Sortino Ratio: 1.259
Max Drawdown: -52.3%
Avg Drawdown: -13.2%
Normalized Score: -0.882
Lookback periods: [97, 112, 119] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,229,582,804
Annual Return: 40.23%
Sharpe Ratio: 1.39014
Sortino Ratio: 1.289
Max Drawdown: -55.0%
Avg Drawdown: -12.3%
Normalized Score: -0.658
Lookback periods: [51, 125, 142] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 21m 57s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,702,575,313
Annual Return: 45.77%
Sharpe Ratio: 1.49344
Sortino Ratio: 1.453
Max Drawdown: -59.7%
Avg Drawdown: -11.8%
Normalized Score: 0.156
Lookback periods: [151, 156, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 31/1500... Est. remaining: 19m 48s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,919,711,648
Annual Return: 45.96%
Sharpe Ratio: 1.50163
Sortino Ratio: 1.459
Max Drawdown: -59.0%
Avg Drawdown: -11.7%
Normalized Score: 0.232
Lookback periods: [157, 180, 193] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 18m 44sRunning iteration 51/1500... Est. remaining: 17m 28sRunning iteration 61/1500... Est. remaining: 16m 41sRunning iteration 71/1500... Est. remaining: 16m 0s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,280,821,732
Annual Return: 46.99%
Sharpe Ratio: 1.52664
Sortino Ratio: 1.493
Max Drawdown: -61.3%
Avg Drawdown: -12.2%
Normalized Score: 0.257
Lookback periods: [153, 156, 183] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 81/1500... Est. remaining: 16m 3sRunning iteration 91/1500... Est. remaining: 15m 33s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,627,456,534
Annual Return: 47.22%
Sharpe Ratio: 1.53751
Sortino Ratio: 1.499
Max Drawdown: -61.3%
Avg Drawdown: -11.6%
Normalized Score: 0.393
Lookback periods: [153, 159, 191] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 101/1500... Est. remaining: 15m 25sbest_combination: {'lookbacks': [153, 159, 191], 'score': np.float64(0.3934791759128624), 'visits': 1}
Running iteration 111/1500... Est. remaining: 15m 1sRunning iteration 121/1500... Est. remaining: 14m 37sRunning iteration 131/1500... Est. remaining: 14m 16sRunning iteration 141/1500... Est. remaining: 14m 0sRunning iteration 151/1500... Est. remaining: 13m 47sRunning iteration 161/1500... Est. remaining: 13m 34sRunning iteration 171/1500... Est. remaining: 13m 25sRunning iteration 181/1500... Est. remaining: 13m 15sRunning iteration 191/1500... Est. remaining: 13m 4sRunning iteration 201/1500... Est. remaining: 12m 53sbest_combination: {'lookbacks': [153, 159, 191], 'score': np.float64(0.3934791759128624), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 44sRunning iteration 221/1500... Est. remaining: 12m 33sRunning iteration 231/1500... Est. remaining: 12m 24sRunning iteration 241/1500... Est. remaining: 12m 15sRunning iteration 251/1500... Est. remaining: 12m 7sRunning iteration 261/1500... Est. remaining: 11m 59sRunning iteration 271/1500... Est. remaining: 11m 51sRunning iteration 281/1500... Est. remaining: 11m 44sRunning iteration 291/1500... Est. remaining: 11m 37s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,351,467,872
Annual Return: 48.20%
Sharpe Ratio: 1.57025
Sortino Ratio: 1.533
Max Drawdown: -59.8%
Avg Drawdown: -12.2%
Normalized Score: 0.543
Lookback periods: [139, 158, 189] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 301/1500... Est. remaining: 11m 34sbest_combination: {'lookbacks': [139, 158, 189], 'score': np.float64(0.5433342771311699), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 28sRunning iteration 321/1500... Est. remaining: 11m 21sRunning iteration 331/1500... Est. remaining: 11m 14sRunning iteration 341/1500... Est. remaining: 11m 7sRunning iteration 351/1500... Est. remaining: 11m 0sRunning iteration 361/1500... Est. remaining: 10m 53sRunning iteration 371/1500... Est. remaining: 10m 46sRunning iteration 381/1500... Est. remaining: 10m 38sRunning iteration 391/1500... Est. remaining: 10m 32sRunning iteration 401/1500... Est. remaining: 10m 25sbest_combination: {'lookbacks': [139, 158, 189], 'score': np.float64(0.5433342771311699), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 18sRunning iteration 421/1500... Est. remaining: 10m 13sRunning iteration 431/1500... Est. remaining: 10m 6sRunning iteration 441/1500... Est. remaining: 9m 59sRunning iteration 451/1500... Est. remaining: 9m 53sRunning iteration 461/1500... Est. remaining: 9m 47sRunning iteration 471/1500... Est. remaining: 9m 40sRunning iteration 481/1500... Est. remaining: 9m 34sRunning iteration 491/1500... Est. remaining: 9m 27s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,252,545,314
Annual Return: 46.97%
Sharpe Ratio: 1.53431
Sortino Ratio: 1.508
Max Drawdown: -55.0%
Avg Drawdown: -10.9%
Normalized Score: 0.701
Lookback periods: [161, 164, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 501/1500... Est. remaining: 9m 24sbest_combination: {'lookbacks': [161, 164, 168], 'score': np.float64(0.7009070227341205), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 17s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,829,557,148
Annual Return: 47.93%
Sharpe Ratio: 1.56439
Sortino Ratio: 1.533
Max Drawdown: -56.9%
Avg Drawdown: -11.0%
Normalized Score: 0.777
Lookback periods: [156, 160, 161] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 521/1500... Est. remaining: 9m 13sRunning iteration 531/1500... Est. remaining: 9m 7sRunning iteration 541/1500... Est. remaining: 9m 1sRunning iteration 551/1500... Est. remaining: 8m 56sRunning iteration 561/1500... Est. remaining: 8m 51sRunning iteration 571/1500... Est. remaining: 8m 46sRunning iteration 581/1500... Est. remaining: 8m 40sRunning iteration 591/1500... Est. remaining: 8m 34sRunning iteration 601/1500... Est. remaining: 8m 28sbest_combination: {'lookbacks': [156, 160, 161], 'score': np.float64(0.7767656670599425), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 22sRunning iteration 621/1500... Est. remaining: 8m 16sRunning iteration 631/1500... Est. remaining: 8m 10sRunning iteration 641/1500... Est. remaining: 8m 4sRunning iteration 651/1500... Est. remaining: 7m 58sRunning iteration 661/1500... Est. remaining: 7m 52sRunning iteration 671/1500... Est. remaining: 7m 47sRunning iteration 681/1500... Est. remaining: 7m 42sRunning iteration 691/1500... Est. remaining: 7m 36sRunning iteration 701/1500... Est. remaining: 7m 31sbest_combination: {'lookbacks': [156, 160, 161], 'score': np.float64(0.7767656670599425), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 25s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,192,106,184
Annual Return: 48.12%
Sharpe Ratio: 1.57543
Sortino Ratio: 1.548
Max Drawdown: -56.9%
Avg Drawdown: -10.9%
Normalized Score: 0.852
Lookback periods: [159, 160, 163] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 721/1500... Est. remaining: 7m 20sRunning iteration 731/1500... Est. remaining: 7m 15sRunning iteration 741/1500... Est. remaining: 7m 9sRunning iteration 751/1500... Est. remaining: 7m 3sRunning iteration 761/1500... Est. remaining: 6m 57sRunning iteration 771/1500... Est. remaining: 6m 51sRunning iteration 781/1500... Est. remaining: 6m 45sRunning iteration 791/1500... Est. remaining: 6m 39sRunning iteration 801/1500... Est. remaining: 6m 33sbest_combination: {'lookbacks': [159, 160, 163], 'score': np.float64(0.8516115801708606), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 27sRunning iteration 821/1500... Est. remaining: 6m 21sRunning iteration 831/1500... Est. remaining: 6m 15sRunning iteration 841/1500... Est. remaining: 6m 9s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,077,781,686
Annual Return: 48.06%
Sharpe Ratio: 1.57992
Sortino Ratio: 1.542
Max Drawdown: -56.9%
Avg Drawdown: -10.6%
Normalized Score: 0.892
Lookback periods: [146, 156, 159] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 851/1500... Est. remaining: 6m 5sRunning iteration 861/1500... Est. remaining: 5m 59sRunning iteration 871/1500... Est. remaining: 5m 53sRunning iteration 881/1500... Est. remaining: 5m 47sRunning iteration 891/1500... Est. remaining: 5m 41sRunning iteration 901/1500... Est. remaining: 5m 35sbest_combination: {'lookbacks': [146, 156, 159], 'score': np.float64(0.8918986531237945), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 29s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,502,895,315
Annual Return: 49.19%
Sharpe Ratio: 1.59127
Sortino Ratio: 1.559
Max Drawdown: -57.2%
Avg Drawdown: -11.4%
Normalized Score: 0.905
Lookback periods: [154, 155, 159] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 921/1500... Est. remaining: 5m 25sRunning iteration 931/1500... Est. remaining: 5m 19sRunning iteration 941/1500... Est. remaining: 5m 13sRunning iteration 951/1500... Est. remaining: 5m 7sRunning iteration 961/1500... Est. remaining: 5m 1sRunning iteration 971/1500... Est. remaining: 4m 56sRunning iteration 981/1500... Est. remaining: 4m 50sRunning iteration 991/1500... Est. remaining: 4m 44sRunning iteration 1001/1500... Est. remaining: 4m 38sbest_combination: {'lookbacks': [154, 155, 159], 'score': np.float64(0.9049814301741698), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 33sRunning iteration 1021/1500... Est. remaining: 4m 27sRunning iteration 1031/1500... Est. remaining: 4m 21s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,925,353,787
Annual Return: 48.49%
Sharpe Ratio: 1.58296
Sortino Ratio: 1.559
Max Drawdown: -56.9%
Avg Drawdown: -10.8%
Normalized Score: 0.921
Lookback periods: [159, 161, 166] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1041/1500... Est. remaining: 4m 16sRunning iteration 1051/1500... Est. remaining: 4m 11sRunning iteration 1061/1500... Est. remaining: 4m 5sRunning iteration 1071/1500... Est. remaining: 3m 59sRunning iteration 1081/1500... Est. remaining: 3m 54sRunning iteration 1091/1500... Est. remaining: 3m 48sRunning iteration 1101/1500... Est. remaining: 3m 43sbest_combination: {'lookbacks': [159, 161, 166], 'score': np.float64(0.9212104566481484), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 37sRunning iteration 1121/1500... Est. remaining: 3m 32sRunning iteration 1131/1500... Est. remaining: 3m 26sRunning iteration 1141/1500... Est. remaining: 3m 20sRunning iteration 1151/1500... Est. remaining: 3m 15sRunning iteration 1161/1500... Est. remaining: 3m 9sRunning iteration 1171/1500... Est. remaining: 3m 3sRunning iteration 1181/1500... Est. remaining: 2m 58sRunning iteration 1191/1500... Est. remaining: 2m 52sRunning iteration 1201/1500... Est. remaining: 2m 46sbest_combination: {'lookbacks': [159, 161, 166], 'score': np.float64(0.9212104566481484), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 41sRunning iteration 1221/1500... Est. remaining: 2m 35s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,522,524,178
Annual Return: 49.20%
Sharpe Ratio: 1.60197
Sortino Ratio: 1.577
Max Drawdown: -59.0%
Avg Drawdown: -10.2%
Normalized Score: 1.072
Lookback periods: [158, 162, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1231/1500... Est. remaining: 2m 30sRunning iteration 1241/1500... Est. remaining: 2m 24sRunning iteration 1251/1500... Est. remaining: 2m 18sRunning iteration 1261/1500... Est. remaining: 2m 13sRunning iteration 1271/1500... Est. remaining: 2m 7sRunning iteration 1281/1500... Est. remaining: 2m 2sRunning iteration 1291/1500... Est. remaining: 1m 56sRunning iteration 1301/1500... Est. remaining: 1m 50sbest_combination: {'lookbacks': [158, 162, 168], 'score': np.float64(1.071844783041098), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 45sRunning iteration 1321/1500... Est. remaining: 1m 39sRunning iteration 1331/1500... Est. remaining: 1m 34sRunning iteration 1341/1500... Est. remaining: 1m 28sRunning iteration 1351/1500... Est. remaining: 1m 22sRunning iteration 1361/1500... Est. remaining: 1m 17sRunning iteration 1371/1500... Est. remaining: 1m 11sRunning iteration 1381/1500... Est. remaining: 1m 6sRunning iteration 1391/1500... Est. remaining: 1m 0sRunning iteration 1401/1500... Est. remaining: 0m 55sbest_combination: {'lookbacks': [158, 162, 168], 'score': np.float64(1.071844783041098), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 49sRunning iteration 1421/1500... Est. remaining: 0m 44sRunning iteration 1431/1500... Est. remaining: 0m 38sRunning iteration 1441/1500... Est. remaining: 0m 33sRunning iteration 1451/1500... Est. remaining: 0m 27sRunning iteration 1461/1500... Est. remaining: 0m 22sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 11sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.8 minutes
Best normalized score: 1.07
best_combination: {'lookbacks': [158, 162, 168], 'score': np.float64(1.071844783041098), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [158, 162, 168] (score: 1.0718)

Monte Carlo simulation completed in 13.8 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [158, 162, 168] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 114 selections (27.4%)
2. sp500_hma: 107 selections (25.7%)
3. naz100_pi: 82 selections (19.7%)
4. naz100_pine: 78 selections (18.8%)
5. cash: 35 selections (8.4%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $10,522,524,178.38
Average Annualized Gain: 49.2%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 9 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 9/15 runs completed (9 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 10 of 15
Time: Sun Aug 24 15:46:05 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,344,210,387
Annual Return: 40.60%
Sharpe Ratio: 1.33181
Sortino Ratio: 1.288
Max Drawdown: -68.6%
Avg Drawdown: -13.9%
Normalized Score: -1.399
Lookback periods: [142, 165, 193] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,581,951,694
Annual Return: 44.63%
Sharpe Ratio: 1.47785
Sortino Ratio: 1.434
Max Drawdown: -58.1%
Avg Drawdown: -12.6%
Normalized Score: -0.071
Lookback periods: [143, 149, 178] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,461,737,630
Annual Return: 45.55%
Sharpe Ratio: 1.49037
Sortino Ratio: 1.459
Max Drawdown: -58.2%
Avg Drawdown: -11.2%
Normalized Score: 0.275
Lookback periods: [160, 162, 167] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 31m 0sRunning iteration 21/1500... Est. remaining: 22m 0sRunning iteration 31/1500... Est. remaining: 18m 52sRunning iteration 41/1500... Est. remaining: 17m 16sRunning iteration 51/1500... Est. remaining: 16m 16sRunning iteration 61/1500... Est. remaining: 15m 35s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,135,947,988
Annual Return: 46.89%
Sharpe Ratio: 1.51787
Sortino Ratio: 1.481
Max Drawdown: -61.2%
Avg Drawdown: -11.5%
Normalized Score: 0.329
Lookback periods: [166, 189, 198] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 71/1500... Est. remaining: 15m 30s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,010,701,247
Annual Return: 46.80%
Sharpe Ratio: 1.52514
Sortino Ratio: 1.496
Max Drawdown: -59.0%
Avg Drawdown: -11.1%
Normalized Score: 0.485
Lookback periods: [146, 171, 198] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 81/1500... Est. remaining: 15m 25sRunning iteration 91/1500... Est. remaining: 14m 59sRunning iteration 101/1500... Est. remaining: 14m 39sbest_combination: {'lookbacks': [146, 171, 198], 'score': np.float64(0.4854008501464887), 'visits': 1}
Running iteration 111/1500... Est. remaining: 14m 23s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,838,793,543
Annual Return: 47.35%
Sharpe Ratio: 1.54144
Sortino Ratio: 1.506
Max Drawdown: -59.0%
Avg Drawdown: -10.7%
Normalized Score: 0.639
Lookback periods: [159, 162, 193] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 121/1500... Est. remaining: 14m 17sRunning iteration 131/1500... Est. remaining: 14m 0sRunning iteration 141/1500... Est. remaining: 13m 46sRunning iteration 151/1500... Est. remaining: 13m 33sRunning iteration 161/1500... Est. remaining: 13m 20sRunning iteration 171/1500... Est. remaining: 13m 9sRunning iteration 181/1500... Est. remaining: 12m 59sRunning iteration 191/1500... Est. remaining: 12m 49sRunning iteration 201/1500... Est. remaining: 12m 38sbest_combination: {'lookbacks': [159, 162, 193], 'score': np.float64(0.638599012681391), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 29sRunning iteration 221/1500... Est. remaining: 12m 20sRunning iteration 231/1500... Est. remaining: 12m 11sRunning iteration 241/1500... Est. remaining: 12m 3sRunning iteration 251/1500... Est. remaining: 11m 55sRunning iteration 261/1500... Est. remaining: 11m 47sRunning iteration 271/1500... Est. remaining: 11m 39sRunning iteration 281/1500... Est. remaining: 11m 31sRunning iteration 291/1500... Est. remaining: 11m 24sRunning iteration 301/1500... Est. remaining: 11m 17sbest_combination: {'lookbacks': [159, 162, 193], 'score': np.float64(0.638599012681391), 'visits': 1}
Running iteration 311/1500... Est. remaining: 11m 9sRunning iteration 321/1500... Est. remaining: 11m 2sRunning iteration 331/1500... Est. remaining: 10m 56sRunning iteration 341/1500... Est. remaining: 10m 49sRunning iteration 351/1500... Est. remaining: 10m 42sRunning iteration 361/1500... Est. remaining: 10m 36sRunning iteration 371/1500... Est. remaining: 10m 29sRunning iteration 381/1500... Est. remaining: 10m 23sRunning iteration 391/1500... Est. remaining: 10m 16sRunning iteration 401/1500... Est. remaining: 10m 10sbest_combination: {'lookbacks': [159, 162, 193], 'score': np.float64(0.638599012681391), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 4sRunning iteration 421/1500... Est. remaining: 9m 57sRunning iteration 431/1500... Est. remaining: 9m 51sRunning iteration 441/1500... Est. remaining: 9m 45sRunning iteration 451/1500... Est. remaining: 9m 39sRunning iteration 461/1500... Est. remaining: 9m 33sRunning iteration 471/1500... Est. remaining: 9m 27sRunning iteration 481/1500... Est. remaining: 9m 21sRunning iteration 491/1500... Est. remaining: 9m 15sRunning iteration 501/1500... Est. remaining: 9m 9sbest_combination: {'lookbacks': [159, 162, 193], 'score': np.float64(0.638599012681391), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 3sRunning iteration 521/1500... Est. remaining: 8m 57sRunning iteration 531/1500... Est. remaining: 8m 51sRunning iteration 541/1500... Est. remaining: 8m 45sRunning iteration 551/1500... Est. remaining: 8m 40sRunning iteration 561/1500... Est. remaining: 8m 34sRunning iteration 571/1500... Est. remaining: 8m 28sRunning iteration 581/1500... Est. remaining: 8m 22sRunning iteration 591/1500... Est. remaining: 8m 16sRunning iteration 601/1500... Est. remaining: 8m 11sbest_combination: {'lookbacks': [159, 162, 193], 'score': np.float64(0.638599012681391), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 5sRunning iteration 621/1500... Est. remaining: 7m 59s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,354,157,107
Annual Return: 48.21%
Sharpe Ratio: 1.56936
Sortino Ratio: 1.537
Max Drawdown: -61.9%
Avg Drawdown: -11.0%
Normalized Score: 0.650
Lookback periods: [149, 158, 162] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 631/1500... Est. remaining: 7m 55sRunning iteration 641/1500... Est. remaining: 7m 50sRunning iteration 651/1500... Est. remaining: 7m 44sRunning iteration 661/1500... Est. remaining: 7m 38sRunning iteration 671/1500... Est. remaining: 7m 33sRunning iteration 681/1500... Est. remaining: 7m 27s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,516,137,385
Annual Return: 47.75%
Sharpe Ratio: 1.55540
Sortino Ratio: 1.514
Max Drawdown: -55.0%
Avg Drawdown: -11.0%
Normalized Score: 0.786
Lookback periods: [157, 159, 178] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 691/1500... Est. remaining: 7m 23sRunning iteration 701/1500... Est. remaining: 7m 17sbest_combination: {'lookbacks': [157, 159, 178], 'score': np.float64(0.7859497635131273), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 12sRunning iteration 721/1500... Est. remaining: 7m 6sRunning iteration 731/1500... Est. remaining: 7m 0sRunning iteration 741/1500... Est. remaining: 6m 55sRunning iteration 751/1500... Est. remaining: 6m 49sRunning iteration 761/1500... Est. remaining: 6m 43sRunning iteration 771/1500... Est. remaining: 6m 38sRunning iteration 781/1500... Est. remaining: 6m 32sRunning iteration 791/1500... Est. remaining: 6m 26sRunning iteration 801/1500... Est. remaining: 6m 21sbest_combination: {'lookbacks': [157, 159, 178], 'score': np.float64(0.7859497635131273), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 15sRunning iteration 821/1500... Est. remaining: 6m 10sRunning iteration 831/1500... Est. remaining: 6m 4sRunning iteration 841/1500... Est. remaining: 5m 59sRunning iteration 851/1500... Est. remaining: 5m 53sRunning iteration 861/1500... Est. remaining: 5m 47sRunning iteration 871/1500... Est. remaining: 5m 42sRunning iteration 881/1500... Est. remaining: 5m 36sRunning iteration 891/1500... Est. remaining: 5m 31sRunning iteration 901/1500... Est. remaining: 5m 25sbest_combination: {'lookbacks': [157, 159, 178], 'score': np.float64(0.7859497635131273), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 20s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,779,053,489
Annual Return: 48.42%
Sharpe Ratio: 1.57956
Sortino Ratio: 1.557
Max Drawdown: -58.2%
Avg Drawdown: -10.7%
Normalized Score: 0.889
Lookback periods: [157, 162, 163] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 921/1500... Est. remaining: 5m 15sRunning iteration 931/1500... Est. remaining: 5m 10sRunning iteration 941/1500... Est. remaining: 5m 4sRunning iteration 951/1500... Est. remaining: 4m 59sRunning iteration 961/1500... Est. remaining: 4m 53sRunning iteration 971/1500... Est. remaining: 4m 48sRunning iteration 981/1500... Est. remaining: 4m 42s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,624,431,828
Annual Return: 49.24%
Sharpe Ratio: 1.60609
Sortino Ratio: 1.568
Max Drawdown: -57.2%
Avg Drawdown: -10.4%
Normalized Score: 1.091
Lookback periods: [154, 159, 167] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 991/1500... Est. remaining: 4m 37sRunning iteration 1001/1500... Est. remaining: 4m 32sbest_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 26sRunning iteration 1021/1500... Est. remaining: 4m 21sRunning iteration 1031/1500... Est. remaining: 4m 15sRunning iteration 1041/1500... Est. remaining: 4m 10sRunning iteration 1051/1500... Est. remaining: 4m 4sRunning iteration 1061/1500... Est. remaining: 3m 59sRunning iteration 1071/1500... Est. remaining: 3m 53sRunning iteration 1081/1500... Est. remaining: 3m 48sRunning iteration 1091/1500... Est. remaining: 3m 42sRunning iteration 1101/1500... Est. remaining: 3m 37sbest_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 31sRunning iteration 1121/1500... Est. remaining: 3m 26sRunning iteration 1131/1500... Est. remaining: 3m 20sRunning iteration 1141/1500... Est. remaining: 3m 15sRunning iteration 1151/1500... Est. remaining: 3m 10sRunning iteration 1161/1500... Est. remaining: 3m 4sRunning iteration 1171/1500... Est. remaining: 2m 59sRunning iteration 1181/1500... Est. remaining: 2m 53sRunning iteration 1191/1500... Est. remaining: 2m 48sRunning iteration 1201/1500... Est. remaining: 2m 42sbest_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 37sRunning iteration 1221/1500... Est. remaining: 2m 31sRunning iteration 1231/1500... Est. remaining: 2m 26sRunning iteration 1241/1500... Est. remaining: 2m 21sRunning iteration 1251/1500... Est. remaining: 2m 15sRunning iteration 1261/1500... Est. remaining: 2m 10sRunning iteration 1271/1500... Est. remaining: 2m 4sRunning iteration 1281/1500... Est. remaining: 1m 59sRunning iteration 1291/1500... Est. remaining: 1m 53sRunning iteration 1301/1500... Est. remaining: 1m 48sbest_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 42sRunning iteration 1321/1500... Est. remaining: 1m 37sRunning iteration 1331/1500... Est. remaining: 1m 32sRunning iteration 1341/1500... Est. remaining: 1m 26sRunning iteration 1351/1500... Est. remaining: 1m 21sRunning iteration 1361/1500... Est. remaining: 1m 15sRunning iteration 1371/1500... Est. remaining: 1m 10sRunning iteration 1381/1500... Est. remaining: 1m 4sRunning iteration 1391/1500... Est. remaining: 0m 59sRunning iteration 1401/1500... Est. remaining: 0m 54sbest_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 48sRunning iteration 1421/1500... Est. remaining: 0m 43sRunning iteration 1431/1500... Est. remaining: 0m 37sRunning iteration 1441/1500... Est. remaining: 0m 32sRunning iteration 1451/1500... Est. remaining: 0m 27sRunning iteration 1461/1500... Est. remaining: 0m 21sRunning iteration 1471/1500... Est. remaining: 0m 16sRunning iteration 1481/1500... Est. remaining: 0m 10sRunning iteration 1491/1500... Est. remaining: 0m 5s
Monte Carlo simulation completed in 13.5 minutes
Best normalized score: 1.09
best_combination: {'lookbacks': [154, 159, 167], 'score': np.float64(1.0906433990077238), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [154, 159, 167] (score: 1.0906)

Monte Carlo simulation completed in 13.5 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [154, 159, 167] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 114 selections (27.4%)
2. naz100_hma: 113 selections (27.2%)
3. naz100_pine: 77 selections (18.5%)
4. naz100_pi: 75 selections (18.0%)
5. cash: 37 selections (8.9%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $10,624,431,827.51
Average Annualized Gain: 49.2%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 10 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 10/15 runs completed (10 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 11 of 15
Time: Sun Aug 24 15:59:44 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,144,162,079
Annual Return: 39.94%
Sharpe Ratio: 1.34729
Sortino Ratio: 1.288
Max Drawdown: -58.7%
Avg Drawdown: -14.0%
Normalized Score: -1.120
Lookback periods: [109, 125, 152] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,298,747,544
Annual Return: 44.28%
Sharpe Ratio: 1.43769
Sortino Ratio: 1.406
Max Drawdown: -59.0%
Avg Drawdown: -11.8%
Normalized Score: -0.089
Lookback periods: [175, 176, 200] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,410,903,989
Annual Return: 47.08%
Sharpe Ratio: 1.53131
Sortino Ratio: 1.489
Max Drawdown: -56.1%
Avg Drawdown: -11.5%
Normalized Score: 0.547
Lookback periods: [156, 157, 178] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 30m 41sRunning iteration 21/1500... Est. remaining: 21m 54sRunning iteration 31/1500... Est. remaining: 18m 50sRunning iteration 41/1500... Est. remaining: 17m 16sRunning iteration 51/1500... Est. remaining: 16m 19sRunning iteration 61/1500... Est. remaining: 15m 37sRunning iteration 71/1500... Est. remaining: 15m 10sRunning iteration 81/1500... Est. remaining: 14m 46s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,922,066,362
Annual Return: 47.98%
Sharpe Ratio: 1.58448
Sortino Ratio: 1.544
Max Drawdown: -58.5%
Avg Drawdown: -11.4%
Normalized Score: 0.708
Lookback periods: [135, 153, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 91/1500... Est. remaining: 14m 45sRunning iteration 101/1500... Est. remaining: 14m 26sbest_combination: {'lookbacks': [135, 153, 171], 'score': np.float64(0.7079481102566895), 'visits': 1}
Running iteration 111/1500... Est. remaining: 14m 6sRunning iteration 121/1500... Est. remaining: 13m 48sRunning iteration 131/1500... Est. remaining: 13m 33sRunning iteration 141/1500... Est. remaining: 13m 20sRunning iteration 151/1500... Est. remaining: 13m 7sRunning iteration 161/1500... Est. remaining: 12m 56sRunning iteration 171/1500... Est. remaining: 12m 46sRunning iteration 181/1500... Est. remaining: 12m 36sRunning iteration 191/1500... Est. remaining: 12m 27sRunning iteration 201/1500... Est. remaining: 12m 18sbest_combination: {'lookbacks': [135, 153, 171], 'score': np.float64(0.7079481102566895), 'visits': 1}
Running iteration 211/1500... Est. remaining: 12m 9sRunning iteration 221/1500... Est. remaining: 12m 0sRunning iteration 231/1500... Est. remaining: 11m 52sRunning iteration 241/1500... Est. remaining: 11m 45sRunning iteration 251/1500... Est. remaining: 11m 37sRunning iteration 261/1500... Est. remaining: 11m 29sRunning iteration 271/1500... Est. remaining: 11m 22sRunning iteration 281/1500... Est. remaining: 11m 15sRunning iteration 291/1500... Est. remaining: 11m 8sRunning iteration 301/1500... Est. remaining: 11m 2sbest_combination: {'lookbacks': [135, 153, 171], 'score': np.float64(0.7079481102566895), 'visits': 1}
Running iteration 311/1500... Est. remaining: 10m 57sRunning iteration 321/1500... Est. remaining: 10m 50sRunning iteration 331/1500... Est. remaining: 10m 44s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,888,306,427
Annual Return: 48.93%
Sharpe Ratio: 1.57775
Sortino Ratio: 1.548
Max Drawdown: -60.2%
Avg Drawdown: -11.5%
Normalized Score: 0.732
Lookback periods: [153, 158, 188] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 341/1500... Est. remaining: 10m 42sRunning iteration 351/1500... Est. remaining: 10m 36sRunning iteration 361/1500... Est. remaining: 10m 30sRunning iteration 371/1500... Est. remaining: 10m 24sRunning iteration 381/1500... Est. remaining: 10m 18sRunning iteration 391/1500... Est. remaining: 10m 12sRunning iteration 401/1500... Est. remaining: 10m 6sbest_combination: {'lookbacks': [153, 158, 188], 'score': np.float64(0.732316698820508), 'visits': 1}
Running iteration 411/1500... Est. remaining: 10m 0sRunning iteration 421/1500... Est. remaining: 9m 53sRunning iteration 431/1500... Est. remaining: 9m 47sRunning iteration 441/1500... Est. remaining: 9m 41sRunning iteration 451/1500... Est. remaining: 9m 35sRunning iteration 461/1500... Est. remaining: 9m 29sRunning iteration 471/1500... Est. remaining: 9m 23sRunning iteration 481/1500... Est. remaining: 9m 18sRunning iteration 491/1500... Est. remaining: 9m 12sRunning iteration 501/1500... Est. remaining: 9m 6sbest_combination: {'lookbacks': [153, 158, 188], 'score': np.float64(0.732316698820508), 'visits': 1}
Running iteration 511/1500... Est. remaining: 9m 0sRunning iteration 521/1500... Est. remaining: 8m 54sRunning iteration 531/1500... Est. remaining: 8m 49sRunning iteration 541/1500... Est. remaining: 8m 43sRunning iteration 551/1500... Est. remaining: 8m 37sRunning iteration 561/1500... Est. remaining: 8m 33sRunning iteration 571/1500... Est. remaining: 8m 28sRunning iteration 581/1500... Est. remaining: 8m 22sRunning iteration 591/1500... Est. remaining: 8m 17sRunning iteration 601/1500... Est. remaining: 8m 12sbest_combination: {'lookbacks': [153, 158, 188], 'score': np.float64(0.732316698820508), 'visits': 1}
Running iteration 611/1500... Est. remaining: 8m 7sRunning iteration 621/1500... Est. remaining: 8m 1sRunning iteration 631/1500... Est. remaining: 7m 56sRunning iteration 641/1500... Est. remaining: 7m 50sRunning iteration 651/1500... Est. remaining: 7m 44sRunning iteration 661/1500... Est. remaining: 7m 39sRunning iteration 671/1500... Est. remaining: 7m 34sRunning iteration 681/1500... Est. remaining: 7m 29sRunning iteration 691/1500... Est. remaining: 7m 23sRunning iteration 701/1500... Est. remaining: 7m 18sbest_combination: {'lookbacks': [153, 158, 188], 'score': np.float64(0.732316698820508), 'visits': 1}
Running iteration 711/1500... Est. remaining: 7m 12sRunning iteration 721/1500... Est. remaining: 7m 7sRunning iteration 731/1500... Est. remaining: 7m 1sRunning iteration 741/1500... Est. remaining: 6m 56sRunning iteration 751/1500... Est. remaining: 6m 50sRunning iteration 761/1500... Est. remaining: 6m 45sRunning iteration 771/1500... Est. remaining: 6m 39sRunning iteration 781/1500... Est. remaining: 6m 34sRunning iteration 791/1500... Est. remaining: 6m 28sRunning iteration 801/1500... Est. remaining: 6m 23sbest_combination: {'lookbacks': [153, 158, 188], 'score': np.float64(0.732316698820508), 'visits': 1}
Running iteration 811/1500... Est. remaining: 6m 17sRunning iteration 821/1500... Est. remaining: 6m 12sRunning iteration 831/1500... Est. remaining: 6m 7sRunning iteration 841/1500... Est. remaining: 6m 1s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,115,521,656
Annual Return: 48.58%
Sharpe Ratio: 1.57959
Sortino Ratio: 1.557
Max Drawdown: -55.0%
Avg Drawdown: -12.3%
Normalized Score: 0.768
Lookback periods: [127, 130, 131] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 851/1500... Est. remaining: 5m 57sRunning iteration 861/1500... Est. remaining: 5m 51sRunning iteration 871/1500... Est. remaining: 5m 46sRunning iteration 881/1500... Est. remaining: 5m 40sRunning iteration 891/1500... Est. remaining: 5m 35sRunning iteration 901/1500... Est. remaining: 5m 29sbest_combination: {'lookbacks': [127, 130, 131], 'score': np.float64(0.7684850661262523), 'visits': 1}
Running iteration 911/1500... Est. remaining: 5m 24sRunning iteration 921/1500... Est. remaining: 5m 18sRunning iteration 931/1500... Est. remaining: 5m 13sRunning iteration 941/1500... Est. remaining: 5m 7sRunning iteration 951/1500... Est. remaining: 5m 2sRunning iteration 961/1500... Est. remaining: 4m 56sRunning iteration 971/1500... Est. remaining: 4m 51sRunning iteration 981/1500... Est. remaining: 4m 45sRunning iteration 991/1500... Est. remaining: 4m 40sRunning iteration 1001/1500... Est. remaining: 4m 34sbest_combination: {'lookbacks': [127, 130, 131], 'score': np.float64(0.7684850661262523), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 4m 29sRunning iteration 1021/1500... Est. remaining: 4m 23sRunning iteration 1031/1500... Est. remaining: 4m 18sRunning iteration 1041/1500... Est. remaining: 4m 12sRunning iteration 1051/1500... Est. remaining: 4m 6sRunning iteration 1061/1500... Est. remaining: 4m 1s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,730,293,764
Annual Return: 49.28%
Sharpe Ratio: 1.60930
Sortino Ratio: 1.585
Max Drawdown: -55.0%
Avg Drawdown: -11.9%
Normalized Score: 0.970
Lookback periods: [127, 128, 130] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1071/1500... Est. remaining: 3m 56sRunning iteration 1081/1500... Est. remaining: 3m 50sRunning iteration 1091/1500... Est. remaining: 3m 45sRunning iteration 1101/1500... Est. remaining: 3m 39sbest_combination: {'lookbacks': [127, 128, 130], 'score': np.float64(0.9701274305449517), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 3m 34sRunning iteration 1121/1500... Est. remaining: 3m 28sRunning iteration 1131/1500... Est. remaining: 3m 22sRunning iteration 1141/1500... Est. remaining: 3m 16sRunning iteration 1151/1500... Est. remaining: 3m 9sRunning iteration 1161/1500... Est. remaining: 3m 3sRunning iteration 1171/1500... Est. remaining: 2m 57sRunning iteration 1181/1500... Est. remaining: 2m 51sRunning iteration 1191/1500... Est. remaining: 2m 45sRunning iteration 1201/1500... Est. remaining: 2m 40sbest_combination: {'lookbacks': [127, 128, 130], 'score': np.float64(0.9701274305449517), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 2m 34sRunning iteration 1221/1500... Est. remaining: 2m 28sRunning iteration 1231/1500... Est. remaining: 2m 22sRunning iteration 1241/1500... Est. remaining: 2m 17sRunning iteration 1251/1500... Est. remaining: 2m 11sRunning iteration 1261/1500... Est. remaining: 2m 5sRunning iteration 1271/1500... Est. remaining: 2m 0sRunning iteration 1281/1500... Est. remaining: 1m 54sRunning iteration 1291/1500... Est. remaining: 1m 49sRunning iteration 1301/1500... Est. remaining: 1m 43sbest_combination: {'lookbacks': [127, 128, 130], 'score': np.float64(0.9701274305449517), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 38sRunning iteration 1321/1500... Est. remaining: 1m 32sRunning iteration 1331/1500... Est. remaining: 1m 27sRunning iteration 1341/1500... Est. remaining: 1m 22sRunning iteration 1351/1500... Est. remaining: 1m 16sRunning iteration 1361/1500... Est. remaining: 1m 11sRunning iteration 1371/1500... Est. remaining: 1m 6sRunning iteration 1381/1500... Est. remaining: 1m 0sRunning iteration 1391/1500... Est. remaining: 0m 55sRunning iteration 1401/1500... Est. remaining: 0m 50sbest_combination: {'lookbacks': [127, 128, 130], 'score': np.float64(0.9701274305449517), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 45sRunning iteration 1421/1500... Est. remaining: 0m 40sRunning iteration 1431/1500... Est. remaining: 0m 35sRunning iteration 1441/1500... Est. remaining: 0m 30sRunning iteration 1451/1500... Est. remaining: 0m 25sRunning iteration 1461/1500... Est. remaining: 0m 20sRunning iteration 1471/1500... Est. remaining: 0m 15sRunning iteration 1481/1500... Est. remaining: 0m 9sRunning iteration 1491/1500... Est. remaining: 0m 4s
Monte Carlo simulation completed in 12.4 minutes
Best normalized score: 0.97
best_combination: {'lookbacks': [127, 128, 130], 'score': np.float64(0.9701274305449517), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [127, 128, 130] (score: 0.9701)

Monte Carlo simulation completed in 12.4 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [127, 128, 130] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 110 selections (26.4%)
2. naz100_hma: 106 selections (25.5%)
3. naz100_pi: 87 selections (20.9%)
4. naz100_pine: 80 selections (19.2%)
5. cash: 33 selections (7.9%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $10,730,293,764.26
Average Annualized Gain: 49.3%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 11 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 11/15 runs completed (11 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 12 of 15
Time: Sun Aug 24 16:12:16 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $1,899,617,606
Annual Return: 42.01%
Sharpe Ratio: 1.39492
Sortino Ratio: 1.353
Max Drawdown: -67.5%
Avg Drawdown: -14.2%
Normalized Score: -1.097
Lookback periods: [119, 142, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,376,570,562
Annual Return: 42.93%
Sharpe Ratio: 1.41528
Sortino Ratio: 1.372
Max Drawdown: -64.6%
Avg Drawdown: -13.8%
Normalized Score: -0.806
Lookback periods: [130, 150, 176] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,015,804,815
Annual Return: 45.11%
Sharpe Ratio: 1.47815
Sortino Ratio: 1.445
Max Drawdown: -59.0%
Avg Drawdown: -11.0%
Normalized Score: 0.209
Lookback periods: [161, 172, 185] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 23m 37sRunning iteration 21/1500... Est. remaining: 15m 59sRunning iteration 31/1500... Est. remaining: 13m 19s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,368,176,473
Annual Return: 45.46%
Sharpe Ratio: 1.54623
Sortino Ratio: 1.464
Max Drawdown: -56.4%
Avg Drawdown: -11.0%
Normalized Score: 0.432
Lookback periods: [54, 151, 153] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 12m 28sRunning iteration 51/1500... Est. remaining: 11m 36sRunning iteration 61/1500... Est. remaining: 10m 56sRunning iteration 71/1500... Est. remaining: 10m 27sRunning iteration 81/1500... Est. remaining: 10m 4sRunning iteration 91/1500... Est. remaining: 9m 46s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,622,939,440
Annual Return: 46.52%
Sharpe Ratio: 1.54915
Sortino Ratio: 1.503
Max Drawdown: -58.1%
Avg Drawdown: -11.6%
Normalized Score: 0.459
Lookback periods: [139, 148, 179] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 101/1500... Est. remaining: 9m 39sbest_combination: {'lookbacks': [139, 148, 179], 'score': np.float64(0.4594303972868545), 'visits': 1}
Running iteration 111/1500... Est. remaining: 9m 21sRunning iteration 121/1500... Est. remaining: 9m 3sRunning iteration 131/1500... Est. remaining: 8m 46sRunning iteration 141/1500... Est. remaining: 8m 35sRunning iteration 151/1500... Est. remaining: 8m 26sRunning iteration 161/1500... Est. remaining: 8m 19sRunning iteration 171/1500... Est. remaining: 8m 12sRunning iteration 181/1500... Est. remaining: 8m 5sRunning iteration 191/1500... Est. remaining: 7m 59sRunning iteration 201/1500... Est. remaining: 7m 52sbest_combination: {'lookbacks': [139, 148, 179], 'score': np.float64(0.4594303972868545), 'visits': 1}
Running iteration 211/1500... Est. remaining: 7m 45sRunning iteration 221/1500... Est. remaining: 7m 38sRunning iteration 231/1500... Est. remaining: 7m 32sRunning iteration 241/1500... Est. remaining: 7m 28sRunning iteration 251/1500... Est. remaining: 7m 23sRunning iteration 261/1500... Est. remaining: 7m 19sRunning iteration 271/1500... Est. remaining: 7m 14s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,862,548,150
Annual Return: 43.70%
Sharpe Ratio: 1.54729
Sortino Ratio: 1.462
Max Drawdown: -51.1%
Avg Drawdown: -9.8%
Normalized Score: 0.614
Lookback periods: [52, 52, 108] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 281/1500... Est. remaining: 7m 14sRunning iteration 291/1500... Est. remaining: 7m 10sRunning iteration 301/1500... Est. remaining: 7m 5sbest_combination: {'lookbacks': [52, 52, 108], 'score': np.float64(0.6143590537861575), 'visits': 1}
Running iteration 311/1500... Est. remaining: 7m 1sRunning iteration 321/1500... Est. remaining: 6m 56sRunning iteration 331/1500... Est. remaining: 6m 52sRunning iteration 341/1500... Est. remaining: 6m 48sRunning iteration 351/1500... Est. remaining: 6m 44sRunning iteration 361/1500... Est. remaining: 6m 40sRunning iteration 371/1500... Est. remaining: 6m 36sRunning iteration 381/1500... Est. remaining: 6m 32sRunning iteration 391/1500... Est. remaining: 6m 28sRunning iteration 401/1500... Est. remaining: 6m 24sbest_combination: {'lookbacks': [52, 52, 108], 'score': np.float64(0.6143590537861575), 'visits': 1}

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,206,992,338
Annual Return: 42.62%
Sharpe Ratio: 1.51207
Sortino Ratio: 1.420
Max Drawdown: -34.7%
Avg Drawdown: -9.0%
Normalized Score: 1.081
Lookback periods: [50, 54, 100] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,012,937,138
Annual Return: 43.91%
Sharpe Ratio: 1.57247
Sortino Ratio: 1.482
Max Drawdown: -34.7%
Avg Drawdown: -9.2%
Normalized Score: 1.341
Lookback periods: [50, 54, 96] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 411/1500... Est. remaining: 6m 24sRunning iteration 421/1500... Est. remaining: 6m 21sRunning iteration 431/1500... Est. remaining: 6m 17sRunning iteration 441/1500... Est. remaining: 6m 13sRunning iteration 451/1500... Est. remaining: 6m 9sRunning iteration 461/1500... Est. remaining: 6m 5s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,525,950,064
Annual Return: 43.18%
Sharpe Ratio: 1.55179
Sortino Ratio: 1.460
Max Drawdown: -34.7%
Avg Drawdown: -8.2%
Normalized Score: 1.364
Lookback periods: [50, 50, 96] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 471/1500... Est. remaining: 6m 3sRunning iteration 481/1500... Est. remaining: 5m 59s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,928,518,176
Annual Return: 43.79%
Sharpe Ratio: 1.59880
Sortino Ratio: 1.497
Max Drawdown: -34.7%
Avg Drawdown: -8.4%
Normalized Score: 1.498
Lookback periods: [50, 52, 94] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 491/1500... Est. remaining: 5m 57sRunning iteration 501/1500... Est. remaining: 5m 53sbest_combination: {'lookbacks': [50, 52, 94], 'score': np.float64(1.4976614665732562), 'visits': 1}

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,916,119,872
Annual Return: 43.77%
Sharpe Ratio: 1.58945
Sortino Ratio: 1.492
Max Drawdown: -34.7%
Avg Drawdown: -8.3%
Normalized Score: 1.498
Lookback periods: [50, 51, 96] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 511/1500... Est. remaining: 5m 51sRunning iteration 521/1500... Est. remaining: 5m 47sRunning iteration 531/1500... Est. remaining: 5m 43sRunning iteration 541/1500... Est. remaining: 5m 39sRunning iteration 551/1500... Est. remaining: 5m 36s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,090,622,705
Annual Return: 44.01%
Sharpe Ratio: 1.57961
Sortino Ratio: 1.488
Max Drawdown: -34.7%
Avg Drawdown: -7.9%
Normalized Score: 1.562
Lookback periods: [50, 50, 98] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 561/1500... Est. remaining: 5m 33sRunning iteration 571/1500... Est. remaining: 5m 29sRunning iteration 581/1500... Est. remaining: 5m 25sRunning iteration 591/1500... Est. remaining: 5m 22sRunning iteration 601/1500... Est. remaining: 5m 18sbest_combination: {'lookbacks': [50, 50, 98], 'score': np.float64(1.5624359116410709), 'visits': 1}
Running iteration 611/1500... Est. remaining: 5m 14sRunning iteration 621/1500... Est. remaining: 5m 10sRunning iteration 631/1500... Est. remaining: 5m 6sRunning iteration 641/1500... Est. remaining: 5m 2sRunning iteration 651/1500... Est. remaining: 4m 59sRunning iteration 661/1500... Est. remaining: 4m 55sRunning iteration 671/1500... Est. remaining: 4m 51sRunning iteration 681/1500... Est. remaining: 4m 47sRunning iteration 691/1500... Est. remaining: 4m 44sRunning iteration 701/1500... Est. remaining: 4m 40sbest_combination: {'lookbacks': [50, 50, 98], 'score': np.float64(1.5624359116410709), 'visits': 1}
Running iteration 711/1500... Est. remaining: 4m 36sRunning iteration 721/1500... Est. remaining: 4m 33sRunning iteration 731/1500... Est. remaining: 4m 29s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $5,389,580,938
Annual Return: 46.34%
Sharpe Ratio: 1.67955
Sortino Ratio: 1.584
Max Drawdown: -34.7%
Avg Drawdown: -7.9%
Normalized Score: 2.046
Lookback periods: [50, 52, 95] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 741/1500... Est. remaining: 4m 25sRunning iteration 751/1500... Est. remaining: 4m 21sRunning iteration 761/1500... Est. remaining: 4m 18sRunning iteration 771/1500... Est. remaining: 4m 14sRunning iteration 781/1500... Est. remaining: 4m 11sRunning iteration 791/1500... Est. remaining: 4m 7sRunning iteration 801/1500... Est. remaining: 4m 4sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 811/1500... Est. remaining: 4m 0sRunning iteration 821/1500... Est. remaining: 3m 57sRunning iteration 831/1500... Est. remaining: 3m 53sRunning iteration 841/1500... Est. remaining: 3m 49sRunning iteration 851/1500... Est. remaining: 3m 46sRunning iteration 861/1500... Est. remaining: 3m 42sRunning iteration 871/1500... Est. remaining: 3m 39sRunning iteration 881/1500... Est. remaining: 3m 35sRunning iteration 891/1500... Est. remaining: 3m 32sRunning iteration 901/1500... Est. remaining: 3m 28sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 911/1500... Est. remaining: 3m 24sRunning iteration 921/1500... Est. remaining: 3m 21sRunning iteration 931/1500... Est. remaining: 3m 17sRunning iteration 941/1500... Est. remaining: 3m 14sRunning iteration 951/1500... Est. remaining: 3m 10sRunning iteration 961/1500... Est. remaining: 3m 7sRunning iteration 971/1500... Est. remaining: 3m 3sRunning iteration 981/1500... Est. remaining: 3m 0sRunning iteration 991/1500... Est. remaining: 2m 56sRunning iteration 1001/1500... Est. remaining: 2m 53sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 2m 49sRunning iteration 1021/1500... Est. remaining: 2m 46sRunning iteration 1031/1500... Est. remaining: 2m 42sRunning iteration 1041/1500... Est. remaining: 2m 39sRunning iteration 1051/1500... Est. remaining: 2m 35sRunning iteration 1061/1500... Est. remaining: 2m 32sRunning iteration 1071/1500... Est. remaining: 2m 28sRunning iteration 1081/1500... Est. remaining: 2m 25sRunning iteration 1091/1500... Est. remaining: 2m 21sRunning iteration 1101/1500... Est. remaining: 2m 18sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 2m 14sRunning iteration 1121/1500... Est. remaining: 2m 11sRunning iteration 1131/1500... Est. remaining: 2m 7sRunning iteration 1141/1500... Est. remaining: 2m 4sRunning iteration 1151/1500... Est. remaining: 2m 0sRunning iteration 1161/1500... Est. remaining: 1m 57sRunning iteration 1171/1500... Est. remaining: 1m 53sRunning iteration 1181/1500... Est. remaining: 1m 50sRunning iteration 1191/1500... Est. remaining: 1m 46sRunning iteration 1201/1500... Est. remaining: 1m 43sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 1m 39sRunning iteration 1221/1500... Est. remaining: 1m 36sRunning iteration 1231/1500... Est. remaining: 1m 33sRunning iteration 1241/1500... Est. remaining: 1m 29sRunning iteration 1251/1500... Est. remaining: 1m 26sRunning iteration 1261/1500... Est. remaining: 1m 22sRunning iteration 1271/1500... Est. remaining: 1m 19sRunning iteration 1281/1500... Est. remaining: 1m 15sRunning iteration 1291/1500... Est. remaining: 1m 12sRunning iteration 1301/1500... Est. remaining: 1m 8sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 5sRunning iteration 1321/1500... Est. remaining: 1m 1sRunning iteration 1331/1500... Est. remaining: 0m 58sRunning iteration 1341/1500... Est. remaining: 0m 54sRunning iteration 1351/1500... Est. remaining: 0m 51sRunning iteration 1361/1500... Est. remaining: 0m 48sRunning iteration 1371/1500... Est. remaining: 0m 44sRunning iteration 1381/1500... Est. remaining: 0m 41sRunning iteration 1391/1500... Est. remaining: 0m 37sRunning iteration 1401/1500... Est. remaining: 0m 34sbest_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 30sRunning iteration 1421/1500... Est. remaining: 0m 27sRunning iteration 1431/1500... Est. remaining: 0m 23sRunning iteration 1441/1500... Est. remaining: 0m 20sRunning iteration 1451/1500... Est. remaining: 0m 17sRunning iteration 1461/1500... Est. remaining: 0m 13sRunning iteration 1471/1500... Est. remaining: 0m 10sRunning iteration 1481/1500... Est. remaining: 0m 6sRunning iteration 1491/1500... Est. remaining: 0m 3s
Monte Carlo simulation completed in 8.5 minutes
Best normalized score: 2.05
best_combination: {'lookbacks': [50, 52, 95], 'score': np.float64(2.046318973786927), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [50, 52, 95] (score: 2.0463)

Monte Carlo simulation completed in 8.5 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [50, 52, 95] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 108 selections (26.0%)
2. naz100_hma: 100 selections (24.0%)
3. naz100_pine: 76 selections (18.3%)
4. naz100_pi: 74 selections (17.8%)
5. cash: 58 selections (13.9%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $5,389,580,937.96
Average Annualized Gain: 46.3%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 12 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 12/15 runs completed (12 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 13 of 15
Time: Sun Aug 24 16:20:56 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $412,021,814
Annual Return: 35.88%
Sharpe Ratio: 1.26868
Sortino Ratio: 1.181
Max Drawdown: -65.8%
Avg Drawdown: -13.4%
Normalized Score: -1.911
Lookback periods: [54, 67, 117] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $724,170,418
Annual Return: 38.11%
Sharpe Ratio: 1.36001
Sortino Ratio: 1.260
Max Drawdown: -51.1%
Avg Drawdown: -11.7%
Normalized Score: -0.723
Lookback periods: [50, 53, 125] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,099,945,574
Annual Return: 45.19%
Sharpe Ratio: 1.47909
Sortino Ratio: 1.438
Max Drawdown: -61.3%
Avg Drawdown: -12.8%
Normalized Score: -0.139
Lookback periods: [146, 153, 198] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 23m 34s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,217,602,939
Annual Return: 42.64%
Sharpe Ratio: 1.46663
Sortino Ratio: 1.379
Max Drawdown: -57.2%
Avg Drawdown: -10.9%
Normalized Score: -0.067
Lookback periods: [62, 148, 150] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 21/1500... Est. remaining: 16m 52s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,915,445,888
Annual Return: 45.00%
Sharpe Ratio: 1.48600
Sortino Ratio: 1.440
Max Drawdown: -57.6%
Avg Drawdown: -12.5%
Normalized Score: 0.020
Lookback periods: [138, 145, 148] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 31/1500... Est. remaining: 14m 39s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $830,381,778
Annual Return: 38.65%
Sharpe Ratio: 1.37909
Sortino Ratio: 1.287
Max Drawdown: -34.7%
Avg Drawdown: -9.9%
Normalized Score: 0.202
Lookback periods: [50, 69, 88] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 41/1500... Est. remaining: 13m 30sRunning iteration 51/1500... Est. remaining: 12m 22s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,201,030,517
Annual Return: 47.57%
Sharpe Ratio: 1.56765
Sortino Ratio: 1.534
Max Drawdown: -57.2%
Avg Drawdown: -12.0%
Normalized Score: 0.597
Lookback periods: [136, 153, 159] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 61/1500... Est. remaining: 11m 55sRunning iteration 71/1500... Est. remaining: 11m 22sRunning iteration 81/1500... Est. remaining: 10m 48sRunning iteration 91/1500... Est. remaining: 10m 20sRunning iteration 101/1500... Est. remaining: 9m 52sbest_combination: {'lookbacks': [136, 153, 159], 'score': np.float64(0.596787704051446), 'visits': 1}
Running iteration 111/1500... Est. remaining: 9m 30sRunning iteration 121/1500... Est. remaining: 9m 14sRunning iteration 131/1500... Est. remaining: 9m 2sRunning iteration 141/1500... Est. remaining: 8m 52sRunning iteration 151/1500... Est. remaining: 8m 43sRunning iteration 161/1500... Est. remaining: 8m 35sRunning iteration 171/1500... Est. remaining: 8m 26sRunning iteration 181/1500... Est. remaining: 8m 17sRunning iteration 191/1500... Est. remaining: 8m 9sRunning iteration 201/1500... Est. remaining: 8m 2sbest_combination: {'lookbacks': [136, 153, 159], 'score': np.float64(0.596787704051446), 'visits': 1}
Running iteration 211/1500... Est. remaining: 7m 56sRunning iteration 221/1500... Est. remaining: 7m 50sRunning iteration 231/1500... Est. remaining: 7m 45sRunning iteration 241/1500... Est. remaining: 7m 39sRunning iteration 251/1500... Est. remaining: 7m 34sRunning iteration 261/1500... Est. remaining: 7m 29sRunning iteration 271/1500... Est. remaining: 7m 24sRunning iteration 281/1500... Est. remaining: 7m 20sRunning iteration 291/1500... Est. remaining: 7m 15sRunning iteration 301/1500... Est. remaining: 7m 10sbest_combination: {'lookbacks': [136, 153, 159], 'score': np.float64(0.596787704051446), 'visits': 1}
Running iteration 311/1500... Est. remaining: 7m 6sRunning iteration 321/1500... Est. remaining: 7m 1sRunning iteration 331/1500... Est. remaining: 6m 56sRunning iteration 341/1500... Est. remaining: 6m 52sRunning iteration 351/1500... Est. remaining: 6m 48sRunning iteration 361/1500... Est. remaining: 6m 43sRunning iteration 371/1500... Est. remaining: 6m 39s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,214,514,907
Annual Return: 48.62%
Sharpe Ratio: 1.58961
Sortino Ratio: 1.554
Max Drawdown: -55.0%
Avg Drawdown: -11.8%
Normalized Score: 0.845
Lookback periods: [129, 130, 137] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 381/1500... Est. remaining: 6m 38sRunning iteration 391/1500... Est. remaining: 6m 34sRunning iteration 401/1500... Est. remaining: 6m 29sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 411/1500... Est. remaining: 6m 25sRunning iteration 421/1500... Est. remaining: 6m 21sRunning iteration 431/1500... Est. remaining: 6m 17sRunning iteration 441/1500... Est. remaining: 6m 13sRunning iteration 451/1500... Est. remaining: 6m 9sRunning iteration 461/1500... Est. remaining: 6m 5sRunning iteration 471/1500... Est. remaining: 6m 1sRunning iteration 481/1500... Est. remaining: 5m 57sRunning iteration 491/1500... Est. remaining: 5m 54sRunning iteration 501/1500... Est. remaining: 5m 50sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 511/1500... Est. remaining: 5m 46sRunning iteration 521/1500... Est. remaining: 5m 42sRunning iteration 531/1500... Est. remaining: 5m 38sRunning iteration 541/1500... Est. remaining: 5m 34sRunning iteration 551/1500... Est. remaining: 5m 31sRunning iteration 561/1500... Est. remaining: 5m 27sRunning iteration 571/1500... Est. remaining: 5m 23sRunning iteration 581/1500... Est. remaining: 5m 20sRunning iteration 591/1500... Est. remaining: 5m 16sRunning iteration 601/1500... Est. remaining: 5m 12sbest_combination: {'lookbacks': [129, 130, 137], 'score': np.float64(0.8454327528583498), 'visits': 1}
Running iteration 611/1500... Est. remaining: 5m 9sRunning iteration 621/1500... Est. remaining: 5m 5s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $10,547,782,657
Annual Return: 49.21%
Sharpe Ratio: 1.60573
Sortino Ratio: 1.578
Max Drawdown: -55.0%
Avg Drawdown: -11.8%
Normalized Score: 0.961
Lookback periods: [130, 130, 136] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 631/1500... Est. remaining: 5m 3sRunning iteration 641/1500... Est. remaining: 4m 59sRunning iteration 651/1500... Est. remaining: 4m 55sRunning iteration 661/1500... Est. remaining: 4m 52sRunning iteration 671/1500... Est. remaining: 4m 48sRunning iteration 681/1500... Est. remaining: 4m 44sRunning iteration 691/1500... Est. remaining: 4m 41sRunning iteration 701/1500... Est. remaining: 4m 37sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 711/1500... Est. remaining: 4m 33sRunning iteration 721/1500... Est. remaining: 4m 29sRunning iteration 731/1500... Est. remaining: 4m 25sRunning iteration 741/1500... Est. remaining: 4m 21sRunning iteration 751/1500... Est. remaining: 4m 18sRunning iteration 761/1500... Est. remaining: 4m 14sRunning iteration 771/1500... Est. remaining: 4m 11sRunning iteration 781/1500... Est. remaining: 4m 7sRunning iteration 791/1500... Est. remaining: 4m 4sRunning iteration 801/1500... Est. remaining: 4m 0sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 811/1500... Est. remaining: 3m 57sRunning iteration 821/1500... Est. remaining: 3m 53sRunning iteration 831/1500... Est. remaining: 3m 50sRunning iteration 841/1500... Est. remaining: 3m 46sRunning iteration 851/1500... Est. remaining: 3m 43sRunning iteration 861/1500... Est. remaining: 3m 39sRunning iteration 871/1500... Est. remaining: 3m 36sRunning iteration 881/1500... Est. remaining: 3m 32sRunning iteration 891/1500... Est. remaining: 3m 29sRunning iteration 901/1500... Est. remaining: 3m 25sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 911/1500... Est. remaining: 3m 22sRunning iteration 921/1500... Est. remaining: 3m 18sRunning iteration 931/1500... Est. remaining: 3m 15sRunning iteration 941/1500... Est. remaining: 3m 11sRunning iteration 951/1500... Est. remaining: 3m 8sRunning iteration 961/1500... Est. remaining: 3m 4sRunning iteration 971/1500... Est. remaining: 3m 1sRunning iteration 981/1500... Est. remaining: 2m 57sRunning iteration 991/1500... Est. remaining: 2m 54sRunning iteration 1001/1500... Est. remaining: 2m 50sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 2m 47sRunning iteration 1021/1500... Est. remaining: 2m 44sRunning iteration 1031/1500... Est. remaining: 2m 40sRunning iteration 1041/1500... Est. remaining: 2m 37sRunning iteration 1051/1500... Est. remaining: 2m 33sRunning iteration 1061/1500... Est. remaining: 2m 30sRunning iteration 1071/1500... Est. remaining: 2m 26sRunning iteration 1081/1500... Est. remaining: 2m 23sRunning iteration 1091/1500... Est. remaining: 2m 19sRunning iteration 1101/1500... Est. remaining: 2m 16sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 2m 13sRunning iteration 1121/1500... Est. remaining: 2m 9sRunning iteration 1131/1500... Est. remaining: 2m 6sRunning iteration 1141/1500... Est. remaining: 2m 2sRunning iteration 1151/1500... Est. remaining: 1m 59sRunning iteration 1161/1500... Est. remaining: 1m 55sRunning iteration 1171/1500... Est. remaining: 1m 52sRunning iteration 1181/1500... Est. remaining: 1m 49sRunning iteration 1191/1500... Est. remaining: 1m 45sRunning iteration 1201/1500... Est. remaining: 1m 42sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 1m 38sRunning iteration 1221/1500... Est. remaining: 1m 35sRunning iteration 1231/1500... Est. remaining: 1m 31sRunning iteration 1241/1500... Est. remaining: 1m 28sRunning iteration 1251/1500... Est. remaining: 1m 25sRunning iteration 1261/1500... Est. remaining: 1m 21sRunning iteration 1271/1500... Est. remaining: 1m 18sRunning iteration 1281/1500... Est. remaining: 1m 14sRunning iteration 1291/1500... Est. remaining: 1m 11sRunning iteration 1301/1500... Est. remaining: 1m 8sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 4sRunning iteration 1321/1500... Est. remaining: 1m 1sRunning iteration 1331/1500... Est. remaining: 0m 57sRunning iteration 1341/1500... Est. remaining: 0m 54sRunning iteration 1351/1500... Est. remaining: 0m 50sRunning iteration 1361/1500... Est. remaining: 0m 47sRunning iteration 1371/1500... Est. remaining: 0m 44sRunning iteration 1381/1500... Est. remaining: 0m 40sRunning iteration 1391/1500... Est. remaining: 0m 37sRunning iteration 1401/1500... Est. remaining: 0m 34sbest_combination: {'lookbacks': [130, 130, 136], 'score': np.float64(0.9611956664307038), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 30sRunning iteration 1421/1500... Est. remaining: 0m 27sRunning iteration 1431/1500... Est. remaining: 0m 23sRunning iteration 1441/1500... Est. remaining: 0m 20s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $13,236,673,843
Annual Return: 50.19%
Sharpe Ratio: 1.63205
Sortino Ratio: 1.609
Max Drawdown: -55.0%
Avg Drawdown: -12.0%
Normalized Score: 1.101
Lookback periods: [127, 129, 130] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1451/1500... Est. remaining: 0m 17sRunning iteration 1461/1500... Est. remaining: 0m 13sRunning iteration 1471/1500... Est. remaining: 0m 10sRunning iteration 1481/1500... Est. remaining: 0m 6sRunning iteration 1491/1500... Est. remaining: 0m 3s
Monte Carlo simulation completed in 8.5 minutes
Best normalized score: 1.10
best_combination: {'lookbacks': [127, 129, 130], 'score': np.float64(1.1013572314566424), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [127, 129, 130] (score: 1.1014)

Monte Carlo simulation completed in 8.5 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [127, 129, 130] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 108 selections (26.0%)
2. naz100_hma: 105 selections (25.2%)
3. naz100_pi: 89 selections (21.4%)
4. naz100_pine: 79 selections (19.0%)
5. cash: 35 selections (8.4%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $13,236,673,842.53
Average Annualized Gain: 50.2%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 13 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 13/15 runs completed (13 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 14 of 15
Time: Sun Aug 24 16:29:35 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $301,334,703
Annual Return: 34.66%
Sharpe Ratio: 1.18598
Sortino Ratio: 1.117
Max Drawdown: -65.8%
Avg Drawdown: -13.9%
Normalized Score: -2.297
Lookback periods: [65, 101, 109] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $241,637,190
Annual Return: 33.80%
Sharpe Ratio: 1.16845
Sortino Ratio: 1.078
Max Drawdown: -55.0%
Avg Drawdown: -13.5%
Normalized Score: -2.035
Lookback periods: [67, 160, 170] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $771,503,886
Annual Return: 38.36%
Sharpe Ratio: 1.31782
Sortino Ratio: 1.245
Max Drawdown: -52.3%
Avg Drawdown: -12.9%
Normalized Score: -0.998
Lookback periods: [88, 112, 122] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,738,765,933
Annual Return: 45.80%
Sharpe Ratio: 1.49963
Sortino Ratio: 1.464
Max Drawdown: -59.7%
Avg Drawdown: -11.5%
Normalized Score: 0.228
Lookback periods: [150, 160, 167] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,452,149,641
Annual Return: 45.54%
Sharpe Ratio: 1.47925
Sortino Ratio: 1.448
Max Drawdown: -59.0%
Avg Drawdown: -11.1%
Normalized Score: 0.247
Lookback periods: [156, 162, 187] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 28m 15sRunning iteration 21/1500... Est. remaining: 18m 5sRunning iteration 31/1500... Est. remaining: 14m 39sRunning iteration 41/1500... Est. remaining: 12m 53s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,677,739,383
Annual Return: 43.42%
Sharpe Ratio: 1.48514
Sortino Ratio: 1.407
Max Drawdown: -52.3%
Avg Drawdown: -10.8%
Normalized Score: 0.251
Lookback periods: [90, 96, 134] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 51/1500... Est. remaining: 12m 6sRunning iteration 61/1500... Est. remaining: 11m 12sRunning iteration 71/1500... Est. remaining: 10m 35sRunning iteration 81/1500... Est. remaining: 10m 4sRunning iteration 91/1500... Est. remaining: 9m 45s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,585,785,072
Annual Return: 43.27%
Sharpe Ratio: 1.49453
Sortino Ratio: 1.409
Max Drawdown: -52.3%
Avg Drawdown: -9.4%
Normalized Score: 0.462
Lookback periods: [50, 96, 127] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 101/1500... Est. remaining: 9m 35sbest_combination: {'lookbacks': [50, 96, 127], 'score': np.float64(0.4624800990358672), 'visits': 1}
Running iteration 111/1500... Est. remaining: 9m 18sRunning iteration 121/1500... Est. remaining: 9m 3sRunning iteration 131/1500... Est. remaining: 8m 53sRunning iteration 141/1500... Est. remaining: 8m 43sRunning iteration 151/1500... Est. remaining: 8m 35sRunning iteration 161/1500... Est. remaining: 8m 27sRunning iteration 171/1500... Est. remaining: 8m 18sRunning iteration 181/1500... Est. remaining: 8m 9sRunning iteration 191/1500... Est. remaining: 8m 1sRunning iteration 201/1500... Est. remaining: 7m 54sbest_combination: {'lookbacks': [50, 96, 127], 'score': np.float64(0.4624800990358672), 'visits': 1}
Running iteration 211/1500... Est. remaining: 7m 49sRunning iteration 221/1500... Est. remaining: 7m 43sRunning iteration 231/1500... Est. remaining: 7m 38sRunning iteration 241/1500... Est. remaining: 7m 33sRunning iteration 251/1500... Est. remaining: 7m 28sRunning iteration 261/1500... Est. remaining: 7m 23sRunning iteration 271/1500... Est. remaining: 7m 18sRunning iteration 281/1500... Est. remaining: 7m 14sRunning iteration 291/1500... Est. remaining: 7m 9sRunning iteration 301/1500... Est. remaining: 7m 4sbest_combination: {'lookbacks': [50, 96, 127], 'score': np.float64(0.4624800990358672), 'visits': 1}
Running iteration 311/1500... Est. remaining: 7m 0sRunning iteration 321/1500... Est. remaining: 6m 56sRunning iteration 331/1500... Est. remaining: 6m 52sRunning iteration 341/1500... Est. remaining: 6m 47sRunning iteration 351/1500... Est. remaining: 6m 44sRunning iteration 361/1500... Est. remaining: 6m 39sRunning iteration 371/1500... Est. remaining: 6m 35sRunning iteration 381/1500... Est. remaining: 6m 32sRunning iteration 391/1500... Est. remaining: 6m 27sRunning iteration 401/1500... Est. remaining: 6m 23sbest_combination: {'lookbacks': [50, 96, 127], 'score': np.float64(0.4624800990358672), 'visits': 1}
Running iteration 411/1500... Est. remaining: 6m 19sRunning iteration 421/1500... Est. remaining: 6m 15sRunning iteration 431/1500... Est. remaining: 6m 12sRunning iteration 441/1500... Est. remaining: 6m 8sRunning iteration 451/1500... Est. remaining: 6m 4sRunning iteration 461/1500... Est. remaining: 6m 0sRunning iteration 471/1500... Est. remaining: 5m 57sRunning iteration 481/1500... Est. remaining: 5m 53s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,497,290,555
Annual Return: 47.13%
Sharpe Ratio: 1.53127
Sortino Ratio: 1.508
Max Drawdown: -59.0%
Avg Drawdown: -10.4%
Normalized Score: 0.659
Lookback periods: [161, 168, 174] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 491/1500... Est. remaining: 5m 51sRunning iteration 501/1500... Est. remaining: 5m 47sbest_combination: {'lookbacks': [161, 168, 174], 'score': np.float64(0.6588917525523514), 'visits': 1}
Running iteration 511/1500... Est. remaining: 5m 44sRunning iteration 521/1500... Est. remaining: 5m 40sRunning iteration 531/1500... Est. remaining: 5m 36sRunning iteration 541/1500... Est. remaining: 5m 33s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,232,328,426
Annual Return: 47.59%
Sharpe Ratio: 1.54881
Sortino Ratio: 1.518
Max Drawdown: -55.0%
Avg Drawdown: -10.5%
Normalized Score: 0.843
Lookback periods: [157, 161, 169] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 551/1500... Est. remaining: 5m 31sRunning iteration 561/1500... Est. remaining: 5m 27s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,301,890,437
Annual Return: 48.67%
Sharpe Ratio: 1.59811
Sortino Ratio: 1.561
Max Drawdown: -57.2%
Avg Drawdown: -10.5%
Normalized Score: 1.010
Lookback periods: [139, 155, 158] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 571/1500... Est. remaining: 5m 25sRunning iteration 581/1500... Est. remaining: 5m 21sRunning iteration 591/1500... Est. remaining: 5m 17sRunning iteration 601/1500... Est. remaining: 5m 14sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 611/1500... Est. remaining: 5m 10sRunning iteration 621/1500... Est. remaining: 5m 6sRunning iteration 631/1500... Est. remaining: 5m 3sRunning iteration 641/1500... Est. remaining: 4m 59sRunning iteration 651/1500... Est. remaining: 4m 55sRunning iteration 661/1500... Est. remaining: 4m 51sRunning iteration 671/1500... Est. remaining: 4m 48sRunning iteration 681/1500... Est. remaining: 4m 44sRunning iteration 691/1500... Est. remaining: 4m 40sRunning iteration 701/1500... Est. remaining: 4m 37sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 711/1500... Est. remaining: 4m 33sRunning iteration 721/1500... Est. remaining: 4m 29sRunning iteration 731/1500... Est. remaining: 4m 26sRunning iteration 741/1500... Est. remaining: 4m 22sRunning iteration 751/1500... Est. remaining: 4m 18sRunning iteration 761/1500... Est. remaining: 4m 14sRunning iteration 771/1500... Est. remaining: 4m 11sRunning iteration 781/1500... Est. remaining: 4m 7sRunning iteration 791/1500... Est. remaining: 4m 3sRunning iteration 801/1500... Est. remaining: 4m 0sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 811/1500... Est. remaining: 3m 56sRunning iteration 821/1500... Est. remaining: 3m 53sRunning iteration 831/1500... Est. remaining: 3m 49sRunning iteration 841/1500... Est. remaining: 3m 46sRunning iteration 851/1500... Est. remaining: 3m 42sRunning iteration 861/1500... Est. remaining: 3m 39sRunning iteration 871/1500... Est. remaining: 3m 35sRunning iteration 881/1500... Est. remaining: 3m 32sRunning iteration 891/1500... Est. remaining: 3m 28sRunning iteration 901/1500... Est. remaining: 3m 25sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 911/1500... Est. remaining: 3m 21sRunning iteration 921/1500... Est. remaining: 3m 18sRunning iteration 931/1500... Est. remaining: 3m 14sRunning iteration 941/1500... Est. remaining: 3m 11sRunning iteration 951/1500... Est. remaining: 3m 7sRunning iteration 961/1500... Est. remaining: 3m 4sRunning iteration 971/1500... Est. remaining: 3m 0sRunning iteration 981/1500... Est. remaining: 2m 57sRunning iteration 991/1500... Est. remaining: 2m 53sRunning iteration 1001/1500... Est. remaining: 2m 50sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 2m 47sRunning iteration 1021/1500... Est. remaining: 2m 43sRunning iteration 1031/1500... Est. remaining: 2m 40sRunning iteration 1041/1500... Est. remaining: 2m 36sRunning iteration 1051/1500... Est. remaining: 2m 33sRunning iteration 1061/1500... Est. remaining: 2m 29sRunning iteration 1071/1500... Est. remaining: 2m 26sRunning iteration 1081/1500... Est. remaining: 2m 22sRunning iteration 1091/1500... Est. remaining: 2m 19sRunning iteration 1101/1500... Est. remaining: 2m 16sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 2m 12sRunning iteration 1121/1500... Est. remaining: 2m 9sRunning iteration 1131/1500... Est. remaining: 2m 5sRunning iteration 1141/1500... Est. remaining: 2m 2sRunning iteration 1151/1500... Est. remaining: 1m 58sRunning iteration 1161/1500... Est. remaining: 1m 55sRunning iteration 1171/1500... Est. remaining: 1m 52sRunning iteration 1181/1500... Est. remaining: 1m 48sRunning iteration 1191/1500... Est. remaining: 1m 45sRunning iteration 1201/1500... Est. remaining: 1m 41sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 1m 38sRunning iteration 1221/1500... Est. remaining: 1m 35sRunning iteration 1231/1500... Est. remaining: 1m 31sRunning iteration 1241/1500... Est. remaining: 1m 28sRunning iteration 1251/1500... Est. remaining: 1m 24sRunning iteration 1261/1500... Est. remaining: 1m 21sRunning iteration 1271/1500... Est. remaining: 1m 18sRunning iteration 1281/1500... Est. remaining: 1m 14sRunning iteration 1291/1500... Est. remaining: 1m 11sRunning iteration 1301/1500... Est. remaining: 1m 7sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 1311/1500... Est. remaining: 1m 4sRunning iteration 1321/1500... Est. remaining: 1m 1sRunning iteration 1331/1500... Est. remaining: 0m 57sRunning iteration 1341/1500... Est. remaining: 0m 54sRunning iteration 1351/1500... Est. remaining: 0m 50sRunning iteration 1361/1500... Est. remaining: 0m 47sRunning iteration 1371/1500... Est. remaining: 0m 44sRunning iteration 1381/1500... Est. remaining: 0m 40sRunning iteration 1391/1500... Est. remaining: 0m 37sRunning iteration 1401/1500... Est. remaining: 0m 33sbest_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 30sRunning iteration 1421/1500... Est. remaining: 0m 27sRunning iteration 1431/1500... Est. remaining: 0m 23sRunning iteration 1441/1500... Est. remaining: 0m 20sRunning iteration 1451/1500... Est. remaining: 0m 16sRunning iteration 1461/1500... Est. remaining: 0m 13sRunning iteration 1471/1500... Est. remaining: 0m 10sRunning iteration 1481/1500... Est. remaining: 0m 6sRunning iteration 1491/1500... Est. remaining: 0m 3s
Monte Carlo simulation completed in 8.4 minutes
Best normalized score: 1.01
best_combination: {'lookbacks': [139, 155, 158], 'score': np.float64(1.0104840479253503), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [139, 155, 158] (score: 1.0105)

Monte Carlo simulation completed in 8.4 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [139, 155, 158] days

Model Selection Analysis:
----------------------------------------
1. sp500_hma: 112 selections (26.9%)
2. naz100_hma: 111 selections (26.7%)
3. naz100_pi: 78 selections (18.8%)
4. naz100_pine: 77 selections (18.5%)
5. cash: 38 selections (9.1%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $9,301,890,437.26
Average Annualized Gain: 48.7%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 14 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 14/15 runs completed (14 successful, 0 failed)
Waiting 5 seconds before next run...

--------------------------------------------------------------
Starting Monte Carlo Run 15 of 15
Time: Sun Aug 24 16:38:09 EDT 2025
--------------------------------------------------------------
Executing: uv run python run_monte_carlo.py --search explore-exploit --json=abacus_combined_PyTAAA_status.params.json

Starting Monte Carlo backtesting process
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Search strategy: explore-exploit
Starting Monte Carlo backtesting process
Search strategy: explore-exploit
Using JSON configuration: abacus_combined_PyTAAA_status.params.json

Initializing Monte Carlo backtesting...
Using backtested portfolio values
Reading from: pyTAAAweb_backtestPortfolioValue.params
Loading historical portfolio data...

Processing naz100_pine data from /Users/donaldpg/pyTAAA_data/naz100_pine/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pine

Processing naz100_hma data from /Users/donaldpg/pyTAAA_data/naz100_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_hma

Processing naz100_pi data from /Users/donaldpg/pyTAAA_data/naz100_pi/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...Processed 7000 lines...Processed 8000 lines...
Loaded 8725 data points for naz100_pi

Processing sp500_hma data from /Users/donaldpg/pyTAAA_data/sp500_hma/data_store/pyTAAAweb_backtestPortfolioValue.params
Using backtested portfolio values
Processed 1000 lines...Processed 2000 lines...Processed 3000 lines...Processed 4000 lines...Processed 5000 lines...Processed 6000 lines...
Loaded 6459 data points for sp500_hma

Total unique dates across all models: 8734
Date range: 1991-01-02 to 2025-08-22

Aligning data across models...
Aligned naz100_pine data starting at $10000.00
Aligned naz100_hma data starting at $10000.00
Aligned naz100_pi data starting at $10000.00
Aligned sp500_hma data starting at $10000.00

Data loading complete!
Applied JSON normalization values to Monte Carlo instance

Checking for previous state in monte_carlo_state.pkl...
No previous state file found at monte_carlo_state.pkl
Running Monte Carlo simulations with 1500 iterations...
Running Monte Carlo simulations with 1500 iterations...

Starting Monte Carlo simulations with 1500 iterations...
Note: This may take about 5 minutes to complete...
Press Ctrl+C to stop early with current best result


Running 1500 Monte Carlo iterations...
Using 5 models over 8734 trading days
Press Ctrl+C to stop early with current best result


==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $2,253,673,032
Annual Return: 42.71%
Sharpe Ratio: 1.40437
Sortino Ratio: 1.365
Max Drawdown: -64.3%
Avg Drawdown: -12.9%
Normalized Score: -0.691
Lookback periods: [118, 181, 196] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $4,637,366,925
Annual Return: 45.71%
Sharpe Ratio: 1.50048
Sortino Ratio: 1.464
Max Drawdown: -59.0%
Avg Drawdown: -11.9%
Normalized Score: 0.192
Lookback periods: [141, 172, 189] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 11/1500... Est. remaining: 22m 18sRunning iteration 21/1500... Est. remaining: 15m 14sRunning iteration 31/1500... Est. remaining: 12m 50sRunning iteration 41/1500... Est. remaining: 11m 37sRunning iteration 51/1500... Est. remaining: 10m 49s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $3,475,620,989
Annual Return: 44.50%
Sharpe Ratio: 1.51599
Sortino Ratio: 1.443
Max Drawdown: -52.3%
Avg Drawdown: -11.1%
Normalized Score: 0.402
Lookback periods: [88, 97, 125] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 61/1500... Est. remaining: 10m 31sRunning iteration 71/1500... Est. remaining: 10m 0sRunning iteration 81/1500... Est. remaining: 9m 38sRunning iteration 91/1500... Est. remaining: 9m 19sRunning iteration 101/1500... Est. remaining: 9m 6sbest_combination: {'lookbacks': [88, 97, 125], 'score': np.float64(0.4019349916173187), 'visits': 1}
Running iteration 111/1500... Est. remaining: 8m 56sRunning iteration 121/1500... Est. remaining: 8m 47sRunning iteration 131/1500... Est. remaining: 8m 37sRunning iteration 141/1500... Est. remaining: 8m 28sRunning iteration 151/1500... Est. remaining: 8m 18sRunning iteration 161/1500... Est. remaining: 8m 10sRunning iteration 171/1500... Est. remaining: 8m 2s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,726,077,827
Annual Return: 47.87%
Sharpe Ratio: 1.55594
Sortino Ratio: 1.525
Max Drawdown: -58.5%
Avg Drawdown: -12.3%
Normalized Score: 0.505
Lookback periods: [142, 155, 188] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 181/1500... Est. remaining: 8m 2sRunning iteration 191/1500... Est. remaining: 7m 54sRunning iteration 201/1500... Est. remaining: 7m 47sbest_combination: {'lookbacks': [142, 155, 188], 'score': np.float64(0.505474435635864), 'visits': 1}
Running iteration 211/1500... Est. remaining: 7m 40sRunning iteration 221/1500... Est. remaining: 7m 34sRunning iteration 231/1500... Est. remaining: 7m 29s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $7,052,900,905
Annual Return: 47.48%
Sharpe Ratio: 1.54686
Sortino Ratio: 1.504
Max Drawdown: -57.2%
Avg Drawdown: -11.7%
Normalized Score: 0.563
Lookback periods: [139, 157, 199] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 241/1500... Est. remaining: 7m 29sRunning iteration 251/1500... Est. remaining: 7m 24sRunning iteration 261/1500... Est. remaining: 7m 19sRunning iteration 271/1500... Est. remaining: 7m 15sRunning iteration 281/1500... Est. remaining: 7m 10sRunning iteration 291/1500... Est. remaining: 7m 6sRunning iteration 301/1500... Est. remaining: 7m 2sbest_combination: {'lookbacks': [139, 157, 199], 'score': np.float64(0.5626567503309062), 'visits': 1}
Running iteration 311/1500... Est. remaining: 6m 57sRunning iteration 321/1500... Est. remaining: 6m 53sRunning iteration 331/1500... Est. remaining: 6m 49sRunning iteration 341/1500... Est. remaining: 6m 44sRunning iteration 351/1500... Est. remaining: 6m 40sRunning iteration 361/1500... Est. remaining: 6m 36sRunning iteration 371/1500... Est. remaining: 6m 32sRunning iteration 381/1500... Est. remaining: 6m 28sRunning iteration 391/1500... Est. remaining: 6m 25sRunning iteration 401/1500... Est. remaining: 6m 20sbest_combination: {'lookbacks': [139, 157, 199], 'score': np.float64(0.5626567503309062), 'visits': 1}
Running iteration 411/1500... Est. remaining: 6m 17sRunning iteration 421/1500... Est. remaining: 6m 13sRunning iteration 431/1500... Est. remaining: 6m 9sRunning iteration 441/1500... Est. remaining: 6m 5sRunning iteration 451/1500... Est. remaining: 6m 2sRunning iteration 461/1500... Est. remaining: 5m 58sRunning iteration 471/1500... Est. remaining: 5m 54sRunning iteration 481/1500... Est. remaining: 5m 50sRunning iteration 491/1500... Est. remaining: 5m 47sRunning iteration 501/1500... Est. remaining: 5m 43sbest_combination: {'lookbacks': [139, 157, 199], 'score': np.float64(0.5626567503309062), 'visits': 1}
Running iteration 511/1500... Est. remaining: 5m 39sRunning iteration 521/1500... Est. remaining: 5m 36sRunning iteration 531/1500... Est. remaining: 5m 32sRunning iteration 541/1500... Est. remaining: 5m 28sRunning iteration 551/1500... Est. remaining: 5m 25sRunning iteration 561/1500... Est. remaining: 5m 21sRunning iteration 571/1500... Est. remaining: 5m 18sRunning iteration 581/1500... Est. remaining: 5m 14sRunning iteration 591/1500... Est. remaining: 5m 11s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $6,983,789,098
Annual Return: 47.44%
Sharpe Ratio: 1.53124
Sortino Ratio: 1.500
Max Drawdown: -59.0%
Avg Drawdown: -10.9%
Normalized Score: 0.597
Lookback periods: [176, 193, 194] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 601/1500... Est. remaining: 5m 8sbest_combination: {'lookbacks': [176, 193, 194], 'score': np.float64(0.5970706146431389), 'visits': 1}
Running iteration 611/1500... Est. remaining: 5m 5sRunning iteration 621/1500... Est. remaining: 5m 2sRunning iteration 631/1500... Est. remaining: 4m 58sRunning iteration 641/1500... Est. remaining: 4m 55sRunning iteration 651/1500... Est. remaining: 4m 51sRunning iteration 661/1500... Est. remaining: 4m 47s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,513,290,721
Annual Return: 48.76%
Sharpe Ratio: 1.56761
Sortino Ratio: 1.530
Max Drawdown: -59.0%
Avg Drawdown: -11.8%
Normalized Score: 0.672
Lookback periods: [178, 184, 194] days
==================================================
Best parameters logged to: abacus_best_performers.csv

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $8,202,005,913
Annual Return: 48.13%
Sharpe Ratio: 1.56791
Sortino Ratio: 1.536
Max Drawdown: -55.0%
Avg Drawdown: -10.6%
Normalized Score: 0.928
Lookback periods: [159, 161, 171] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 671/1500... Est. remaining: 4m 46sRunning iteration 681/1500... Est. remaining: 4m 42sRunning iteration 691/1500... Est. remaining: 4m 39sRunning iteration 701/1500... Est. remaining: 4m 35sbest_combination: {'lookbacks': [159, 161, 171], 'score': np.float64(0.9282433892336834), 'visits': 1}
Running iteration 711/1500... Est. remaining: 4m 32sRunning iteration 721/1500... Est. remaining: 4m 28sRunning iteration 731/1500... Est. remaining: 4m 24sRunning iteration 741/1500... Est. remaining: 4m 21sRunning iteration 751/1500... Est. remaining: 4m 17sRunning iteration 761/1500... Est. remaining: 4m 13sRunning iteration 771/1500... Est. remaining: 4m 9s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,322,473,874
Annual Return: 48.67%
Sharpe Ratio: 1.58174
Sortino Ratio: 1.552
Max Drawdown: -59.0%
Avg Drawdown: -10.1%
Normalized Score: 0.972
Lookback periods: [156, 158, 167] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 781/1500... Est. remaining: 4m 6sRunning iteration 791/1500... Est. remaining: 4m 3sRunning iteration 801/1500... Est. remaining: 3m 59sbest_combination: {'lookbacks': [156, 158, 167], 'score': np.float64(0.972230558403437), 'visits': 1}
Running iteration 811/1500... Est. remaining: 3m 56sRunning iteration 821/1500... Est. remaining: 3m 52sRunning iteration 831/1500... Est. remaining: 3m 49sRunning iteration 841/1500... Est. remaining: 3m 45sRunning iteration 851/1500... Est. remaining: 3m 42sRunning iteration 861/1500... Est. remaining: 3m 38sRunning iteration 871/1500... Est. remaining: 3m 35sRunning iteration 881/1500... Est. remaining: 3m 31sRunning iteration 891/1500... Est. remaining: 3m 28sRunning iteration 901/1500... Est. remaining: 3m 25sbest_combination: {'lookbacks': [156, 158, 167], 'score': np.float64(0.972230558403437), 'visits': 1}
Running iteration 911/1500... Est. remaining: 3m 21sRunning iteration 921/1500... Est. remaining: 3m 18sRunning iteration 931/1500... Est. remaining: 3m 14sRunning iteration 941/1500... Est. remaining: 3m 11sRunning iteration 951/1500... Est. remaining: 3m 7sRunning iteration 961/1500... Est. remaining: 3m 4sRunning iteration 971/1500... Est. remaining: 3m 0sRunning iteration 981/1500... Est. remaining: 2m 57sRunning iteration 991/1500... Est. remaining: 2m 53sRunning iteration 1001/1500... Est. remaining: 2m 50sbest_combination: {'lookbacks': [156, 158, 167], 'score': np.float64(0.972230558403437), 'visits': 1}
Running iteration 1011/1500... Est. remaining: 2m 46sRunning iteration 1021/1500... Est. remaining: 2m 43sRunning iteration 1031/1500... Est. remaining: 2m 40sRunning iteration 1041/1500... Est. remaining: 2m 36sRunning iteration 1051/1500... Est. remaining: 2m 33sRunning iteration 1061/1500... Est. remaining: 2m 29sRunning iteration 1071/1500... Est. remaining: 2m 26sRunning iteration 1081/1500... Est. remaining: 2m 22sRunning iteration 1091/1500... Est. remaining: 2m 19sRunning iteration 1101/1500... Est. remaining: 2m 16sbest_combination: {'lookbacks': [156, 158, 167], 'score': np.float64(0.972230558403437), 'visits': 1}
Running iteration 1111/1500... Est. remaining: 2m 12sRunning iteration 1121/1500... Est. remaining: 2m 9sRunning iteration 1131/1500... Est. remaining: 2m 5sRunning iteration 1141/1500... Est. remaining: 2m 2sRunning iteration 1151/1500... Est. remaining: 1m 58sRunning iteration 1161/1500... Est. remaining: 1m 55sRunning iteration 1171/1500... Est. remaining: 1m 52sRunning iteration 1181/1500... Est. remaining: 1m 48sRunning iteration 1191/1500... Est. remaining: 1m 45sRunning iteration 1201/1500... Est. remaining: 1m 41sbest_combination: {'lookbacks': [156, 158, 167], 'score': np.float64(0.972230558403437), 'visits': 1}
Running iteration 1211/1500... Est. remaining: 1m 38sRunning iteration 1221/1500... Est. remaining: 1m 35sRunning iteration 1231/1500... Est. remaining: 1m 31sRunning iteration 1241/1500... Est. remaining: 1m 28sRunning iteration 1251/1500... Est. remaining: 1m 24sRunning iteration 1261/1500... Est. remaining: 1m 21sRunning iteration 1271/1500... Est. remaining: 1m 18s
==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $9,761,984,053
Annual Return: 48.87%
Sharpe Ratio: 1.59975
Sortino Ratio: 1.567
Max Drawdown: -59.0%
Avg Drawdown: -10.1%
Normalized Score: 1.031
Lookback periods: [158, 160, 168] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1281/1500... Est. remaining: 1m 14sRunning iteration 1291/1500... Est. remaining: 1m 11sRunning iteration 1301/1500... Est. remaining: 1m 8sbest_combination: {'lookbacks': [158, 160, 168], 'score': np.float64(1.0310883454232307), 'visits': 1}

==================================================
NEW BEST PERFORMANCE FOUND!
==================================================
Final Value: $11,974,224,518
Annual Return: 49.75%
Sharpe Ratio: 1.60832
Sortino Ratio: 1.576
Max Drawdown: -57.2%
Avg Drawdown: -11.2%
Normalized Score: 1.033
Lookback periods: [154, 155, 156] days
==================================================
Best parameters logged to: abacus_best_performers.csv
Running iteration 1311/1500... Est. remaining: 1m 4sRunning iteration 1321/1500... Est. remaining: 1m 1sRunning iteration 1331/1500... Est. remaining: 0m 57sRunning iteration 1341/1500... Est. remaining: 0m 54sRunning iteration 1351/1500... Est. remaining: 0m 51sRunning iteration 1361/1500... Est. remaining: 0m 47sRunning iteration 1371/1500... Est. remaining: 0m 44sRunning iteration 1381/1500... Est. remaining: 0m 40sRunning iteration 1391/1500... Est. remaining: 0m 37sRunning iteration 1401/1500... Est. remaining: 0m 34sbest_combination: {'lookbacks': [154, 155, 156], 'score': np.float64(1.0328556500827781), 'visits': 1}
Running iteration 1411/1500... Est. remaining: 0m 30sRunning iteration 1421/1500... Est. remaining: 0m 27sRunning iteration 1431/1500... Est. remaining: 0m 23sRunning iteration 1441/1500... Est. remaining: 0m 20sRunning iteration 1451/1500... Est. remaining: 0m 17sRunning iteration 1461/1500... Est. remaining: 0m 13sRunning iteration 1471/1500... Est. remaining: 0m 10sRunning iteration 1481/1500... Est. remaining: 0m 6sRunning iteration 1491/1500... Est. remaining: 0m 3s
Monte Carlo simulation completed in 8.5 minutes
Best normalized score: 1.03
best_combination: {'lookbacks': [154, 155, 156], 'score': np.float64(1.0328556500827781), 'visits': 1}

Permutation-Invariant Tracking Statistics:
  Total canonical combinations explored: 1500
  Theoretical efficiency improvement: 0.004
  Best performing lookbacks: [154, 155, 156] (score: 1.0329)

Monte Carlo simulation completed in 8.5 minutes

Saving exploration/exploitation state to monte_carlo_state.pkl...

Creating final performance plot...
Using JSON web output directory: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web

Monte Carlo Backtesting Results:
----------------------------------------
Total iterations: 1500
Analyzed 8734 trading days
Date range: 1991-01-02 to 2025-08-22

Best performing configuration:
Lookback periods: [154, 155, 156] days

Model Selection Analysis:
----------------------------------------
1. naz100_hma: 114 selections (27.4%)
2. sp500_hma: 111 selections (26.7%)
3. naz100_pi: 79 selections (19.0%)
4. naz100_pine: 77 selections (18.5%)
5. cash: 35 selections (8.4%)

Portfolio Statistics:
----------------------------------------
Initial Value: $10,000.00
Final Value: $11,974,224,518.49
Average Annualized Gain: 49.8%
----------------------------------------
Performance plot saved to: /Users/donaldpg/pyTAAA_data/naz100_sp500_abacus/pyTAAA_web/monte_carlo_best_performance.png

✓ Run 15 completed successfully
Resetting saved state for next run...
Reset complete. monte_carlo_state.pkl has been removed.
✓ State reset completed
Progress: 15/15 runs completed (15 successful, 0 failed)

==============================================================
Monte Carlo Loop Runner - Final Summary
==============================================================
Total runs requested: 15
Successful runs: 15
Failed runs: 0
Total execution time: 199m 14s
End time: Sun Aug 24 16:46:40 EDT 2025
Average time per successful run: 13m 16s
==============================================================
✓ All runs completed successfully!
